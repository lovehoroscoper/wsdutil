2013-01-07 11:10:04,765 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-07 11:10:04,765 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-07 11:10:04,765 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-07 11:10:04,765 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-07 11:10:04,765 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-07 11:10:04,765 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-07 11:10:04,765 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"space":307200,"private_repos":0,"collaborators":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-07 11:10:04,765 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-07 11:10:04,765 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-07 11:10:04,765 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"space":307200,"private_repos":0,"collaborators":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-07 11:10:04,781 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-07 11:10:04,781 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-07 11:10:04,781 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProvider(String)
2013-01-07 11:10:04,781 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-07 11:10:04,796 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-07 11:10:04,796 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-07 11:10:07,921 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@4aac21
2013-01-07 11:10:19,406 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-07 11:10:19,406 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-07 11:10:19,406 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-07 11:10:20,312 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-07 11:10:31,062 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-07 11:11:14,906 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {}
2013-01-07 11:11:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-07 11:11:39,062 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-07 11:11:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-07 11:11:48,609 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-3-GN3twNBB74eQ7ud2bPHGEwvdyguUoGtyiWWoBBFmV7Dm3lCOHw-cas01.example.org] to registry.
2013-01-07 11:11:48,609 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-3-GN3twNBB74eQ7ud2bPHGEwvdyguUoGtyiWWoBBFmV7Dm3lCOHw-cas01.example.org]
2013-01-07 11:11:48,609 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-3-GN3twNBB74eQ7ud2bPHGEwvdyguUoGtyiWWoBBFmV7Dm3lCOHw-cas01.example.org]
2013-01-07 11:11:48,609 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-3-GN3twNBB74eQ7ud2bPHGEwvdyguUoGtyiWWoBBFmV7Dm3lCOHw-cas01.example.org] found in registry.
2013-01-07 11:11:48,609 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-3-wKXK5BMM9QVtZae5vAVF-cas01.example.org] to registry.
2013-01-07 11:11:48,609 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-3-wKXK5BMM9QVtZae5vAVF-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-07 11:11:48,609 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-3-GN3twNBB74eQ7ud2bPHGEwvdyguUoGtyiWWoBBFmV7Dm3lCOHw-cas01.example.org]
2013-01-07 11:11:48,625 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-3-GN3twNBB74eQ7ud2bPHGEwvdyguUoGtyiWWoBBFmV7Dm3lCOHw-cas01.example.org] found in registry.
2013-01-07 11:11:48,625 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-07 11:11:48,625 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-07 11:11:48,640 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-07 11:11:48,640 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-07 11:11:48,640 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-07 11:11:48,640 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-3-wKXK5BMM9QVtZae5vAVF-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-07 11:11:48,640 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-07 11:11:48,640 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-07 11:11:48,640 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-3-wKXK5BMM9QVtZae5vAVF-cas01.example.org]
2013-01-07 11:11:48,640 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-3-wKXK5BMM9QVtZae5vAVF-cas01.example.org] found in registry.
2013-01-07 11:11:48,640 DEBUG [org.jasig.cas.CentralAuthenticationServiceImpl] - Principal id to return for service [HTTP and IMAP] is [GitHubProfile#973288]. The default principal id is [GitHubProfile#973288].
2013-01-07 11:11:48,640 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-3-wKXK5BMM9QVtZae5vAVF-cas01.example.org] from registry
2013-01-07 11:11:48,640 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-3-wKXK5BMM9QVtZae5vAVF-cas01.example.org]
2013-01-07 11:11:48,640 DEBUG [org.jasig.cas.web.ServiceValidateController] - Successfully validated service ticket: ST-3-wKXK5BMM9QVtZae5vAVF-cas01.example.org
2013-01-07 11:11:48,656 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 



<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationSuccess>
		<cas:user>GitHubProfile#973288</cas:user>


	</cas:authenticationSuccess>
</cas:serviceResponse>

2013-01-07 11:13:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-07 11:13:39,062 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-07 11:13:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-07 11:13:55,078 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-07 11:13:55,078 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.id_user, t.username, t.password, t.nikename, t.id_site, t.logintype, t.validtype, t.createdate, t.encrypttype, t.email from sso_user t where t.username = ? 
2013-01-07 11:13:55,078 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile#973288(String)
2013-01-07 11:13:55,078 ERROR [org.gonetbar.ssa.service.impl.SsaUserDetailsServiceImpl] - 用户[GitHubProfile#973288]状态异常
2013-01-07 11:13:55,093 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-07 11:13:55,093 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-07 11:14:11,750 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-07 11:14:11,750 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT s.menuid, s.menuname, s.subsysid, s.`status`, s.linkurl, s.sort, s.systype, s.isadmin FROM sys_menu s WHERE s.levelflag = 3 AND s.subsysid = ? ORDER BY s.parentid, s.sort, s.createtime DESC 
2013-01-07 11:14:11,750 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 0(String)
2013-01-07 11:14:11,765 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-07 11:14:11,765 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-07 11:14:11,765 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-07 11:14:11,765 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-07 11:14:14,734 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-07 11:14:14,734 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-07 11:14:14,734 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-07 11:14:14,734 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-07 11:14:14,734 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-6-xEvs6pwFCk6HWooqoJhm4apoPp9uui
2013-01-07 11:14:14,734 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-6-xEvs6pwFCk6HWooqoJhm4apoPp9uui
2013-01-07 11:14:19,734 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-07 11:14:20,921 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-07 11:14:20,921 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-07 11:14:20,937 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-07 11:14:20,937 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@1d5b73a
2013-01-07 11:14:20,937 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 355888022e2759751566
2013-01-07 11:14:20,937 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:355888022e2759751566,providerType:GitHubProvider}
2013-01-07 11:14:32,937 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@e41a07
2013-01-07 11:14:32,937 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-07 11:14:32,937 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@1d5b73a
2013-01-07 11:14:32,937 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 355888022e2759751566
2013-01-07 11:14:34,125 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-07 11:14:34,125 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1203 ms for : https://api.github.com/user
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"followers":0,"type":"User","repos_url":"https://api.github.com/users/wad12302/repos","login":"wad12302","total_private_repos":0,"created_at":"2011-08-11T07:33:45Z","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","gravatar_id":"612548c837ea401e1411ed19aee93670","plan":{"space":307200,"collaborators":0,"name":"free","private_repos":0},"received_events_url":"https://api.github.com/users/wad12302/received_events","organizations_url":"https://api.github.com/users/wad12302/orgs","followers_url":"https://api.github.com/users/wad12302/followers","owned_private_repos":0,"disk_usage":80,"following_url":"https://api.github.com/users/wad12302/following","events_url":"https://api.github.com/users/wad12302/events{/privacy}","public_repos":2,"url":"https://api.github.com/users/wad12302","public_gists":0,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","collaborators":0,"following":0,"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","private_gists":0,"updated_at":"2013-01-07T03:06:40Z","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","html_url":"https://github.com/wad12302","id":973288}
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"space":307200,"collaborators":0,"name":"free","private_repos":0} / class org.scribe.up.profile.github.GitHubPlan
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-07 11:14:35,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-07 11:14:35,328 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"space":307200,"collaborators":0,"name":"free","private_repos":0}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-07 11:14:35,328 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-07 11:14:35,328 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-07 11:14:35,328 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProvider(String)
2013-01-07 11:14:35,343 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-07 11:14:35,343 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-07 11:14:35,343 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-07 11:14:35,343 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@e41a07
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-07 11:14:35,343 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-07 11:14:35,343 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {}
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-4-To4v9Dcw6KbzCxDZB6gQqRnQTyOFFPiy50X9s5L2ngoRyJfIq5-cas01.example.org] to registry.
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-4-To4v9Dcw6KbzCxDZB6gQqRnQTyOFFPiy50X9s5L2ngoRyJfIq5-cas01.example.org]
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-4-To4v9Dcw6KbzCxDZB6gQqRnQTyOFFPiy50X9s5L2ngoRyJfIq5-cas01.example.org]
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-4-To4v9Dcw6KbzCxDZB6gQqRnQTyOFFPiy50X9s5L2ngoRyJfIq5-cas01.example.org] found in registry.
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-4-qui6BeK9fa3uxK1nff63-cas01.example.org] to registry.
2013-01-07 11:14:35,343 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-4-qui6BeK9fa3uxK1nff63-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-4-To4v9Dcw6KbzCxDZB6gQqRnQTyOFFPiy50X9s5L2ngoRyJfIq5-cas01.example.org]
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-4-To4v9Dcw6KbzCxDZB6gQqRnQTyOFFPiy50X9s5L2ngoRyJfIq5-cas01.example.org] found in registry.
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-07 11:14:35,343 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-07 11:14:35,359 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-07 11:14:35,359 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-07 11:14:35,359 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-07 11:14:35,359 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-4-qui6BeK9fa3uxK1nff63-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-07 11:14:35,359 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-07 11:14:35,390 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-07 11:14:35,390 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-4-qui6BeK9fa3uxK1nff63-cas01.example.org]
2013-01-07 11:14:35,390 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-4-qui6BeK9fa3uxK1nff63-cas01.example.org] found in registry.
2013-01-07 11:14:35,390 DEBUG [org.jasig.cas.CentralAuthenticationServiceImpl] - Principal id to return for service [HTTP and IMAP] is [GitHubProfile#973288]. The default principal id is [GitHubProfile#973288].
2013-01-07 11:14:35,390 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-4-qui6BeK9fa3uxK1nff63-cas01.example.org] from registry
2013-01-07 11:14:35,390 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-4-qui6BeK9fa3uxK1nff63-cas01.example.org]
2013-01-07 11:14:35,390 DEBUG [org.jasig.cas.web.ServiceValidateController] - Successfully validated service ticket: ST-4-qui6BeK9fa3uxK1nff63-cas01.example.org
2013-01-07 11:14:35,390 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 



<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationSuccess>
		<cas:user>GitHubProfile#973288</cas:user>


	</cas:authenticationSuccess>
</cas:serviceResponse>

2013-01-07 11:15:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-07 11:15:39,062 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-07 11:15:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-07 11:17:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-07 11:17:39,062 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-07 11:17:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-07 11:19:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-07 11:19:39,062 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-07 11:19:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-07 11:21:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-07 11:21:39,062 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-07 11:21:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-07 11:23:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-07 11:23:39,062 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-07 11:23:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-07 11:25:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-07 11:25:39,062 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-07 11:25:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-07 11:27:34,468 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-07 11:27:34,468 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.id_user, t.username, t.password, t.nikename, t.id_site, t.logintype, t.validtype, t.createdate, t.encrypttype, t.email from sso_user t where t.username = ? 
2013-01-07 11:27:34,468 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile#973288(String)
2013-01-07 11:27:34,468 ERROR [org.gonetbar.ssa.service.impl.SsaUserDetailsServiceImpl] - 用户[GitHubProfile#973288]状态异常
2013-01-07 11:27:34,515 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-07 11:27:34,515 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-07 11:27:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-07 11:27:39,062 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-07 11:27:39,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-07 11:28:01,531 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-07 11:28:01,531 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-07 11:28:01,531 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-07 11:28:01,531 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-07 11:28:02,671 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-07 11:28:02,671 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-07 11:28:02,671 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-07 11:28:02,671 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-07 11:28:02,671 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-7-AcNMhG4piviaQGiPHeaYMqhj9PkCUy
2013-01-07 11:28:02,671 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-7-AcNMhG4piviaQGiPHeaYMqhj9PkCUy
2013-01-07 11:28:04,828 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-07 11:28:05,906 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-07 11:28:05,906 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-07 11:28:05,906 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-07 11:28:05,906 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@1d5b73a
2013-01-07 11:28:05,906 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : deea6f95531de19b51b3
2013-01-07 11:28:05,906 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:deea6f95531de19b51b3,providerType:GitHubProvider}
2013-01-07 11:28:08,140 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@54220c
2013-01-07 11:28:08,140 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-07 11:28:08,140 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@1d5b73a
2013-01-07 11:28:08,140 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : deea6f95531de19b51b3
2013-01-07 11:28:09,187 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-07 11:28:09,187 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-07 11:28:10,109 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 922 ms for : https://api.github.com/user
2013-01-07 11:28:10,109 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"followers":0,"type":"User","login":"wad12302","created_at":"2011-08-11T07:33:45Z","repos_url":"https://api.github.com/users/wad12302/repos","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","gravatar_id":"612548c837ea401e1411ed19aee93670","plan":{"collaborators":0,"space":307200,"name":"free","private_repos":0},"organizations_url":"https://api.github.com/users/wad12302/orgs","followers_url":"https://api.github.com/users/wad12302/followers","disk_usage":80,"collaborators":0,"events_url":"https://api.github.com/users/wad12302/events{/privacy}","following_url":"https://api.github.com/users/wad12302/following","total_private_repos":0,"received_events_url":"https://api.github.com/users/wad12302/received_events","url":"https://api.github.com/users/wad12302","owned_private_repos":0,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","public_gists":0,"following":0,"updated_at":"2013-01-07T03:06:40Z","private_gists":0,"avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","id":973288,"public_repos":2,"html_url":"https://github.com/wad12302","starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}"}
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"collaborators":0,"space":307200,"name":"free","private_repos":0} / class org.scribe.up.profile.github.GitHubPlan
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-07 11:28:10,125 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"collaborators":0,"space":307200,"name":"free","private_repos":0}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-07 11:28:10,125 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-07 11:28:10,125 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-07 11:28:10,125 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProvider(String)
2013-01-07 11:28:10,125 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-07 11:28:10,125 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-07 11:28:10,125 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-07 11:28:10,125 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@54220c
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-07 11:28:10,125 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-07 11:28:10,125 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {}
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-5-QXlvFToM3vzMII52aZeGQOQCGztirROVFqOYltTeduPpK7x9RQ-cas01.example.org] to registry.
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-5-QXlvFToM3vzMII52aZeGQOQCGztirROVFqOYltTeduPpK7x9RQ-cas01.example.org]
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-5-QXlvFToM3vzMII52aZeGQOQCGztirROVFqOYltTeduPpK7x9RQ-cas01.example.org]
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-5-QXlvFToM3vzMII52aZeGQOQCGztirROVFqOYltTeduPpK7x9RQ-cas01.example.org] found in registry.
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-5-Vcd34HbUffJqTjXFflXA-cas01.example.org] to registry.
2013-01-07 11:28:10,125 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-5-Vcd34HbUffJqTjXFflXA-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-5-QXlvFToM3vzMII52aZeGQOQCGztirROVFqOYltTeduPpK7x9RQ-cas01.example.org]
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-5-QXlvFToM3vzMII52aZeGQOQCGztirROVFqOYltTeduPpK7x9RQ-cas01.example.org] found in registry.
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-07 11:28:10,125 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-07 11:28:10,140 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-07 11:28:10,140 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-07 11:28:10,140 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-07 11:28:10,140 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-5-Vcd34HbUffJqTjXFflXA-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-07 11:28:10,140 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-07 11:28:10,171 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-07 11:28:10,187 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-5-Vcd34HbUffJqTjXFflXA-cas01.example.org]
2013-01-07 11:28:10,187 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-5-Vcd34HbUffJqTjXFflXA-cas01.example.org] found in registry.
2013-01-07 11:28:10,187 DEBUG [org.jasig.cas.CentralAuthenticationServiceImpl] - Principal id to return for service [HTTP and IMAP] is [GitHubProfile#973288]. The default principal id is [GitHubProfile#973288].
2013-01-07 11:28:10,187 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-5-Vcd34HbUffJqTjXFflXA-cas01.example.org] from registry
2013-01-07 11:28:10,187 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-5-Vcd34HbUffJqTjXFflXA-cas01.example.org]
2013-01-07 11:28:10,187 DEBUG [org.jasig.cas.web.ServiceValidateController] - Successfully validated service ticket: ST-5-Vcd34HbUffJqTjXFflXA-cas01.example.org
2013-01-07 11:28:10,187 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 



<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationSuccess>
		<cas:user>GitHubProfile#973288</cas:user>


	</cas:authenticationSuccess>
</cas:serviceResponse>

2013-01-07 11:29:05,203 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-07 11:29:05,203 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.id_user, t.username, t.password, t.nikename, t.id_site, t.logintype, t.validtype, t.createdate, t.encrypttype, t.email from sso_user t where t.username = ? 
2013-01-07 11:29:05,203 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile#973288(String)
2013-01-07 11:29:05,203 ERROR [org.gonetbar.ssa.service.impl.SsaUserDetailsServiceImpl] - 用户[GitHubProfile#973288]状态异常
2013-01-07 11:29:05,218 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-07 11:29:05,218 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-07 11:29:39,078 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-07 11:29:39,078 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-07 11:29:39,078 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 17:43:04,640 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 17:43:04,656 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 17:43:19,312 INFO [org.gonetbar.ssa.init.StartServer] - *********开始加载配置参数*********
2013-01-08 17:43:19,671 INFO [org.gonetbar.ssa.init.StartServer] - *********加载配置参数完成*****
2013-01-08 17:43:19,671 INFO [org.gonetbar.ssa.init.StartServer] - *********启动服务-完成*****
2013-01-08 17:43:20,453 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 17:43:20,453 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 17:43:21,015 INFO [org.gonetbar.ssa.init.StartServer] - *********服务停止成功*****
2013-01-08 17:44:58,031 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 17:44:58,046 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 17:45:07,093 INFO [org.gonetbar.ssa.init.StartServer] - *********开始加载配置参数*********
2013-01-08 17:45:07,203 INFO [org.gonetbar.ssa.init.StartServer] - *********加载配置参数完成*****
2013-01-08 17:45:07,203 INFO [org.gonetbar.ssa.init.StartServer] - *********启动服务-完成*****
2013-01-08 17:45:07,921 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 17:45:07,921 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 17:45:08,187 INFO [org.gonetbar.ssa.init.StartServer] - *********服务停止成功*****
2013-01-08 17:46:03,046 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 17:46:03,046 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 17:46:12,015 INFO [org.gonetbar.ssa.init.StartServer] - *********开始加载配置参数*********
2013-01-08 17:46:12,093 INFO [org.gonetbar.ssa.init.StartServer] - *********加载配置参数完成*****
2013-01-08 17:46:12,093 INFO [org.gonetbar.ssa.init.StartServer] - *********启动服务-完成*****
2013-01-08 17:46:12,906 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 17:46:12,906 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 17:46:13,843 DEBUG [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Autowired the following triggers defined in application context: [triggerJobDetailTicketRegistryCleaner, periodicServiceRegistryReloaderTrigger]
2013-01-08 17:46:16,000 INFO [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Starting Quartz Scheduler now
2013-01-08 17:46:17,546 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 17:46:17,546 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 17:46:19,406 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.deleteRegisteredService(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 17:46:19,406 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.manage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 17:46:19,406 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.updateRegisteredServiceEvaluationOrder(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 17:46:32,406 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Beginning ticket cleanup.
2013-01-08 17:46:32,406 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Attempting to acquire ticket cleanup lock.
2013-01-08 17:46:32,406 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Acquired lock.  Proceeding with cleanup.
2013-01-08 17:46:32,406 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - 0 tickets found to be removed.
2013-01-08 17:46:32,406 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Releasing ticket cleanup lock.
2013-01-08 17:46:32,406 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Finished ticket cleanup.
2013-01-08 17:47:54,125 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 17:47:54,125 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 17:47:54,156 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 17:47:54,156 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 17:47:54,156 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 17:47:58,468 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 17:47:58,468 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 17:47:58,468 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 17:47:58,468 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 17:47:58,500 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-rD9AUORxgrnEAOmbylYe2yDVikYIoJ
2013-01-08 17:47:58,500 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-rD9AUORxgrnEAOmbylYe2yDVikYIoJ
2013-01-08 17:48:05,140 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 17:48:12,984 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 17:48:12,984 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 17:48:12,984 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 17:48:41,656 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 17:48:41,656 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 17:48:41,656 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 17:48:41,656 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@14445ef
2013-01-08 17:48:41,656 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 28e17a40621fbd9f6a16
2013-01-08 17:48:41,656 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:28e17a40621fbd9f6a16,providerType:GitHubProvider}
2013-01-08 17:48:46,828 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1c20352
2013-01-08 17:48:46,828 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 17:48:46,828 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@14445ef
2013-01-08 17:48:46,828 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 28e17a40621fbd9f6a16
2013-01-08 17:48:48,156 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 17:48:48,156 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 17:48:49,093 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 937 ms for : https://api.github.com/user
2013-01-08 17:48:49,093 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"type":"User","events_url":"https://api.github.com/users/wad12302/events{/privacy}","login":"wad12302","total_private_repos":0,"created_at":"2011-08-11T07:33:45Z","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","public_gists":0,"followers":0,"received_events_url":"https://api.github.com/users/wad12302/received_events","following_url":"https://api.github.com/users/wad12302/following","owned_private_repos":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","private_gists":0,"plan":{"space":307200,"private_repos":0,"name":"free","collaborators":0},"disk_usage":80,"public_repos":2,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","following":0,"html_url":"https://github.com/wad12302","starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","updated_at":"2013-01-08T09:48:43Z","collaborators":0,"repos_url":"https://api.github.com/users/wad12302/repos","id":973288}
2013-01-08 17:48:49,218 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 17:48:49,281 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 17:48:49,296 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"space":307200,"private_repos":0,"name":"free","collaborators":0} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 17:48:49,296 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 17:48:49,296 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 17:48:49,296 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"space":307200,"private_repos":0,"name":"free","collaborators":0}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 17:48:49,296 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler failed to authenticate org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1c20352
2013-01-08 17:48:49,312 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-2-YGpNjBHfUvLw3ShLQlTEBRYAff5DWw
2013-01-08 17:48:49,312 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-2-YGpNjBHfUvLw3ShLQlTEBRYAff5DWw
2013-01-08 17:50:12,953 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 17:50:12,953 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 17:50:12,953 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 17:50:31,906 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 17:50:33,000 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 17:50:33,000 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 17:50:33,000 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 17:50:38,296 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@14445ef
2013-01-08 17:50:38,812 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 81f03502982dc6a300e4
2013-01-08 17:50:39,640 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:81f03502982dc6a300e4,providerType:GitHubProvider}
2013-01-08 17:51:00,046 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@99d1a5
2013-01-08 17:51:00,062 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 17:51:00,062 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@14445ef
2013-01-08 17:51:00,062 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 81f03502982dc6a300e4
2013-01-08 17:51:00,718 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 17:51:00,734 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 17:51:01,671 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 937 ms for : https://api.github.com/user
2013-01-08 17:51:01,671 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"owned_private_repos":0,"type":"User","login":"wad12302","public_gists":0,"created_at":"2011-08-11T07:33:45Z","events_url":"https://api.github.com/users/wad12302/events{/privacy}","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","collaborators":0,"followers":0,"following_url":"https://api.github.com/users/wad12302/following","private_gists":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","plan":{"collaborators":0,"space":307200,"private_repos":0,"name":"free"},"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","disk_usage":80,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","html_url":"https://github.com/wad12302","following":0,"updated_at":"2013-01-08T09:48:43Z","repos_url":"https://api.github.com/users/wad12302/repos","total_private_repos":0,"public_repos":2,"id":973288,"received_events_url":"https://api.github.com/users/wad12302/received_events"}
2013-01-08 17:51:01,671 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 17:51:01,671 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 17:51:01,671 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 17:51:01,671 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 17:51:01,671 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 17:51:01,671 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 17:51:01,671 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"collaborators":0,"space":307200,"private_repos":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 17:51:01,687 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 17:51:01,687 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"collaborators":0,"space":307200,"private_repos":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 17:51:03,531 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler failed to authenticate org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@99d1a5
2013-01-08 17:51:52,656 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-3-kuo3jLLyhuIconWpYdKiOPZdZ39e1Y
2013-01-08 17:51:52,656 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-3-kuo3jLLyhuIconWpYdKiOPZdZ39e1Y
2013-01-08 17:52:03,062 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 17:52:03,062 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 17:52:03,062 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 17:52:04,140 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 17:52:04,140 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 17:52:04,140 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 17:52:04,156 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 17:52:04,156 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-4-BV5gEjYAazBd0mphusKngPRfqRfzPf
2013-01-08 17:52:04,156 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-4-BV5gEjYAazBd0mphusKngPRfqRfzPf
2013-01-08 17:52:12,437 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 17:52:12,953 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 17:52:12,953 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 17:52:12,953 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 17:52:13,312 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 17:52:13,328 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 17:52:13,328 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 17:52:15,953 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@14445ef
2013-01-08 17:52:16,421 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 6ee81d84970f216f8f78
2013-01-08 17:52:16,750 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:6ee81d84970f216f8f78,providerType:GitHubProvider}
2013-01-08 17:52:58,484 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1cc66d1
2013-01-08 17:53:05,062 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 17:53:07,500 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@14445ef
2013-01-08 17:53:17,875 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 6ee81d84970f216f8f78
2013-01-08 17:53:18,781 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 17:53:18,781 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 937 ms for : https://api.github.com/user
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"type":"User","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","login":"wad12302","public_gists":0,"created_at":"2011-08-11T07:33:45Z","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","total_private_repos":0,"followers":0,"following_url":"https://api.github.com/users/wad12302/following","private_gists":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","owned_private_repos":0,"plan":{"space":307200,"collaborators":0,"private_repos":0,"name":"free"},"disk_usage":80,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","collaborators":0,"following":0,"html_url":"https://github.com/wad12302","events_url":"https://api.github.com/users/wad12302/events{/privacy}","repos_url":"https://api.github.com/users/wad12302/repos","updated_at":"2013-01-08T09:48:43Z","public_repos":2,"received_events_url":"https://api.github.com/users/wad12302/received_events","id":973288,"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}"}
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"space":307200,"collaborators":0,"private_repos":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 17:53:19,718 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 17:53:23,765 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"space":307200,"collaborators":0,"private_repos":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 17:53:58,500 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler failed to authenticate org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1cc66d1
2013-01-08 17:53:58,515 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-5-96akfCaYepcopDb9KkjwJPvRbgwnpn
2013-01-08 17:53:58,515 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-5-96akfCaYepcopDb9KkjwJPvRbgwnpn
2013-01-08 17:58:29,187 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 17:58:29,187 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 17:58:37,906 INFO [org.gonetbar.ssa.init.StartServer] - *********开始加载配置参数*********
2013-01-08 17:58:37,968 INFO [org.gonetbar.ssa.init.StartServer] - *********加载配置参数完成*****
2013-01-08 17:58:37,968 INFO [org.gonetbar.ssa.init.StartServer] - *********启动服务-完成*****
2013-01-08 17:58:38,671 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 17:58:38,671 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 17:58:39,515 DEBUG [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Autowired the following triggers defined in application context: [triggerJobDetailTicketRegistryCleaner, periodicServiceRegistryReloaderTrigger]
2013-01-08 17:58:41,328 INFO [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Starting Quartz Scheduler now
2013-01-08 17:58:41,703 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 17:58:41,703 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 17:58:42,718 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.deleteRegisteredService(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 17:58:42,718 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.manage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 17:58:42,718 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.updateRegisteredServiceEvaluationOrder(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 17:58:58,265 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Beginning ticket cleanup.
2013-01-08 17:58:58,265 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Attempting to acquire ticket cleanup lock.
2013-01-08 17:58:58,265 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Acquired lock.  Proceeding with cleanup.
2013-01-08 17:58:58,265 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - 0 tickets found to be removed.
2013-01-08 17:58:58,265 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Releasing ticket cleanup lock.
2013-01-08 17:58:58,265 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Finished ticket cleanup.
2013-01-08 18:00:38,734 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:00:38,734 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:00:38,734 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:02:38,718 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:02:38,718 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:02:38,718 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:04:38,718 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:04:38,718 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:04:38,718 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:06:38,718 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:06:38,718 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:06:38,718 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:08:38,718 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:08:38,718 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:08:38,718 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:10:01,156 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:10:05,250 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 18:10:05,250 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 18:10:05,250 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:10:05,250 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:10:05,250 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:10:08,843 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@e0d480
2013-01-08 18:10:08,859 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 541e6b88f3f72d2a7098
2013-01-08 18:10:08,859 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:541e6b88f3f72d2a7098,providerType:GitHubProvider}
2013-01-08 18:10:10,109 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@d6215e
2013-01-08 18:10:11,218 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:10:12,171 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@e0d480
2013-01-08 18:10:13,171 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 541e6b88f3f72d2a7098
2013-01-08 18:10:14,656 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 18:10:14,656 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 18:10:15,843 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1187 ms for : https://api.github.com/user
2013-01-08 18:10:15,843 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"type":"User","repos_url":"https://api.github.com/users/wad12302/repos","public_gists":0,"received_events_url":"https://api.github.com/users/wad12302/received_events","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","private_gists":0,"updated_at":"2013-01-08T09:48:43Z","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","collaborators":0,"followers":0,"events_url":"https://api.github.com/users/wad12302/events{/privacy}","following_url":"https://api.github.com/users/wad12302/following","url":"https://api.github.com/users/wad12302","total_private_repos":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","plan":{"private_repos":0,"collaborators":0,"name":"free","space":307200},"login":"wad12302","owned_private_repos":0,"disk_usage":80,"created_at":"2011-08-11T07:33:45Z","subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","public_repos":2,"html_url":"https://github.com/wad12302","id":973288,"following":0}
2013-01-08 18:10:15,953 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 18:10:16,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 18:10:16,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 18:10:16,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"private_repos":0,"collaborators":0,"name":"free","space":307200} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 18:10:16,062 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 18:10:16,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 18:10:18,984 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"private_repos":0,"collaborators":0,"name":"free","space":307200}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 18:10:22,703 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:10:23,234 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-08 18:10:23,234 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile(String)
2013-01-08 18:10:30,390 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:10:30,406 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-08 18:10:30,406 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-08 18:10:33,984 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@d6215e
2013-01-08 18:10:33,984 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 18:10:33,984 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 18:10:33,984 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 18:10:38,718 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:10:38,718 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:10:38,718 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:10:52,093 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:10:52,093 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-08 18:10:52,093 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), GitHubProfile(String)
2013-01-08 18:14:55,937 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 18:14:55,937 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 18:15:04,734 INFO [org.gonetbar.ssa.init.StartServer] - *********开始加载配置参数*********
2013-01-08 18:15:04,812 INFO [org.gonetbar.ssa.init.StartServer] - *********加载配置参数完成*****
2013-01-08 18:15:04,812 INFO [org.gonetbar.ssa.init.StartServer] - *********启动服务-完成*****
2013-01-08 18:15:05,765 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:15:05,765 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:15:06,703 DEBUG [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Autowired the following triggers defined in application context: [triggerJobDetailTicketRegistryCleaner, periodicServiceRegistryReloaderTrigger]
2013-01-08 18:15:08,765 INFO [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Starting Quartz Scheduler now
2013-01-08 18:15:09,140 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 18:15:09,140 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 18:15:10,187 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.deleteRegisteredService(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 18:15:10,187 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.manage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 18:15:10,187 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.updateRegisteredServiceEvaluationOrder(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 18:15:25,093 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Beginning ticket cleanup.
2013-01-08 18:15:25,093 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Attempting to acquire ticket cleanup lock.
2013-01-08 18:15:25,093 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Acquired lock.  Proceeding with cleanup.
2013-01-08 18:15:25,093 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - 0 tickets found to be removed.
2013-01-08 18:15:25,093 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Releasing ticket cleanup lock.
2013-01-08 18:15:25,093 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Finished ticket cleanup.
2013-01-08 18:15:38,093 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 18:15:38,093 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 18:15:38,109 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:15:38,109 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:15:38,125 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:15:40,421 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@1fa0030
2013-01-08 18:15:40,421 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 541e6b88f3f72d2a7098
2013-01-08 18:15:40,421 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:541e6b88f3f72d2a7098,providerType:GitHubProvider}
2013-01-08 18:15:41,015 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@f3ce67
2013-01-08 18:15:41,718 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:15:41,718 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@1fa0030
2013-01-08 18:15:41,718 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 541e6b88f3f72d2a7098
2013-01-08 18:15:41,734 ERROR [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler threw error authenticating org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@f3ce67
2013-01-08 18:15:41,765 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-vhefYFsrYsYkks1cUrgoTpBAdL4M1R
2013-01-08 18:15:41,765 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-vhefYFsrYsYkks1cUrgoTpBAdL4M1R
2013-01-08 18:15:47,500 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:15:48,390 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:15:48,390 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:15:48,390 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:15:49,625 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@1fa0030
2013-01-08 18:15:57,015 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 86d7ac784ddcc68f78c6
2013-01-08 18:15:57,015 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:86d7ac784ddcc68f78c6,providerType:GitHubProvider}
2013-01-08 18:15:58,062 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1625eb1
2013-01-08 18:15:59,109 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:15:59,468 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@1fa0030
2013-01-08 18:16:02,531 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 86d7ac784ddcc68f78c6
2013-01-08 18:16:03,828 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 18:16:03,828 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 18:16:04,843 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1015 ms for : https://api.github.com/user
2013-01-08 18:16:04,843 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"type":"User","login":"wad12302","created_at":"2011-08-11T07:33:45Z","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","followers":0,"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","following_url":"https://api.github.com/users/wad12302/following","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","total_private_repos":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","collaborators":0,"plan":{"private_repos":0,"space":307200,"collaborators":0,"name":"free"},"public_repos":2,"repos_url":"https://api.github.com/users/wad12302/repos","owned_private_repos":0,"disk_usage":80,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","public_gists":0,"events_url":"https://api.github.com/users/wad12302/events{/privacy}","following":0,"html_url":"https://github.com/wad12302","private_gists":0,"updated_at":"2013-01-08T09:48:43Z","received_events_url":"https://api.github.com/users/wad12302/received_events","id":973288}
2013-01-08 18:16:04,953 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 18:16:05,046 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 18:16:05,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"private_repos":0,"space":307200,"collaborators":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 18:16:05,062 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 18:16:05,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 18:16:05,734 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"private_repos":0,"space":307200,"collaborators":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 18:16:07,328 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:16:07,781 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-08 18:16:07,781 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile(String)
2013-01-08 18:16:10,187 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:16:10,187 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-08 18:16:10,187 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-08 18:16:11,843 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1625eb1
2013-01-08 18:16:11,843 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 18:16:11,843 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 18:16:11,843 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 18:16:30,156 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Created seed map='{username=[xixyangdewuse@163.com]}' for uid='xixyangdewuse@163.com'
2013-01-08 18:16:44,609 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Adding attribute 'username' with value '[xixyangdewuse@163.com]' to query builder 'null'
2013-01-08 18:16:44,609 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Generated query builder 'sql=[username = ?] args=[xixyangdewuse@163.com]' from query Map {username=[xixyangdewuse@163.com]}.
2013-01-08 18:16:44,765 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Executed 'select * from sso_user where {0}' with arguments [xixyangdewuse@163.com] and got results [{id_user=15, username=xixyangdewuse@163.com, password=d79f2ec8146ec4818f30cf17f7cba06d26a9b861991b740c63af982e27c1deb0af5cf2278cce0a5a, nikename=wewe, id_site=1, createdate=2013-01-07 11:07:06.0, email=xixyangdewuse@163.com}]
2013-01-08 18:17:05,828 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:17:05,828 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:17:05,828 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:18:38,421 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 18:18:38,421 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 18:18:38,421 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {username=xixyangdewuse@163.com, email=xixyangdewuse@163.com, userid=15, siteid=1, nikename=wewe}
2013-01-08 18:18:38,453 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-1-xGcYeCo7V4dDpp09Uzyg7NUV4L0gebSkPIz4NaQqRHn7LTwoiw-cas01.example.org] to registry.
2013-01-08 18:18:38,453 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-1-xGcYeCo7V4dDpp09Uzyg7NUV4L0gebSkPIz4NaQqRHn7LTwoiw-cas01.example.org]
2013-01-08 18:18:38,593 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Terminate web session t4ruaztq3xf6188sf2sb4op10 in 2 seconds
2013-01-08 18:18:38,593 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Terminate web session t4ruaztq3xf6188sf2sb4op10 in 2 seconds
2013-01-08 18:18:38,593 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:18:38,593 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:19:05,828 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:19:05,828 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:19:05,828 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:21:05,828 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:21:05,828 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:21:05,828 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:21:23,312 INFO [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Shutting down Quartz Scheduler
2013-01-08 18:21:23,312 INFO [org.gonetbar.ssa.init.StartServer] - *********服务停止成功*****
2013-01-08 18:21:54,812 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 18:21:54,812 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 18:22:03,390 INFO [org.gonetbar.ssa.init.StartServer] - *********开始加载配置参数*********
2013-01-08 18:22:03,468 INFO [org.gonetbar.ssa.init.StartServer] - *********加载配置参数完成*****
2013-01-08 18:22:03,468 INFO [org.gonetbar.ssa.init.StartServer] - *********启动服务-完成*****
2013-01-08 18:22:04,140 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:22:04,140 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:22:05,015 DEBUG [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Autowired the following triggers defined in application context: [triggerJobDetailTicketRegistryCleaner, periodicServiceRegistryReloaderTrigger]
2013-01-08 18:22:06,734 INFO [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Starting Quartz Scheduler now
2013-01-08 18:22:07,109 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 18:22:07,109 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 18:22:08,140 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.deleteRegisteredService(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 18:22:08,140 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.manage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 18:22:08,140 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.updateRegisteredServiceEvaluationOrder(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 18:22:23,734 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Beginning ticket cleanup.
2013-01-08 18:22:23,734 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Attempting to acquire ticket cleanup lock.
2013-01-08 18:22:23,734 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Acquired lock.  Proceeding with cleanup.
2013-01-08 18:22:23,734 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - 0 tickets found to be removed.
2013-01-08 18:22:23,734 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Releasing ticket cleanup lock.
2013-01-08 18:22:23,734 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Finished ticket cleanup.
2013-01-08 18:23:01,265 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 18:23:01,265 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 18:23:01,265 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:23:01,265 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:23:01,281 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 18:23:02,015 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:23:02,015 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:23:02,015 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:23:02,015 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:23:02,031 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-lODUgIUS2zHnVyNa2VoFmdRicwHfpp
2013-01-08 18:23:02,031 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-lODUgIUS2zHnVyNa2VoFmdRicwHfpp
2013-01-08 18:23:06,500 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:23:07,390 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:23:07,390 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:23:07,390 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:23:09,796 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@1a198c9
2013-01-08 18:23:09,796 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 176046784ec1d6ec8488
2013-01-08 18:23:09,796 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:176046784ec1d6ec8488,providerType:GitHubProvider}
2013-01-08 18:23:11,437 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@8b86ef
2013-01-08 18:23:14,703 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:23:14,703 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@1a198c9
2013-01-08 18:23:14,703 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 176046784ec1d6ec8488
2013-01-08 18:23:16,000 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 18:23:16,000 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 18:23:16,968 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 968 ms for : https://api.github.com/user
2013-01-08 18:23:16,968 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"total_private_repos":0,"type":"User","login":"wad12302","created_at":"2011-08-11T07:33:45Z","events_url":"https://api.github.com/users/wad12302/events{/privacy}","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","owned_private_repos":0,"followers":0,"following_url":"https://api.github.com/users/wad12302/following","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","public_repos":2,"gravatar_id":"612548c837ea401e1411ed19aee93670","plan":{"private_repos":0,"space":307200,"collaborators":0,"name":"free"},"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","disk_usage":80,"repos_url":"https://api.github.com/users/wad12302/repos","subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","collaborators":0,"public_gists":0,"following":0,"html_url":"https://github.com/wad12302","received_events_url":"https://api.github.com/users/wad12302/received_events","updated_at":"2013-01-08T09:48:43Z","private_gists":0,"id":973288}
2013-01-08 18:23:17,265 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 18:23:17,312 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 18:23:17,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"private_repos":0,"space":307200,"collaborators":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 18:23:17,328 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 18:23:17,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 18:23:17,328 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"private_repos":0,"space":307200,"collaborators":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 18:23:17,375 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:23:17,515 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-08 18:23:17,515 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile(String)
2013-01-08 18:23:17,562 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:23:17,562 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-08 18:23:17,562 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-08 18:23:17,578 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@8b86ef
2013-01-08 18:23:17,578 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 18:23:17,578 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 18:23:17,578 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 18:23:22,390 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Created seed map='{username=[xixyangdewuse@163.com]}' for uid='xixyangdewuse@163.com'
2013-01-08 18:23:22,390 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Adding attribute 'username' with value '[xixyangdewuse@163.com]' to query builder 'null'
2013-01-08 18:23:22,390 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Generated query builder 'sql=[username = ?] args=[xixyangdewuse@163.com]' from query Map {username=[xixyangdewuse@163.com]}.
2013-01-08 18:23:22,453 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Executed 'select * from sso_user where {0}' with arguments [xixyangdewuse@163.com] and got results [{id_user=15, username=xixyangdewuse@163.com, password=d79f2ec8146ec4818f30cf17f7cba06d26a9b861991b740c63af982e27c1deb0af5cf2278cce0a5a, nikename=wewe, id_site=1, createdate=2013-01-07 11:07:06.0, email=xixyangdewuse@163.com}]
2013-01-08 18:24:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:24:04,187 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:24:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:24:15,515 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 18:24:15,515 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 18:24:15,515 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {username=xixyangdewuse@163.com, email=xixyangdewuse@163.com, userid=15, siteid=1, nikename=wewe}
2013-01-08 18:24:15,531 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-1-QdgCR66UkxEaoOAwJQw5P2nXeqhgrIkQisIdZtGWjXiCyRgX9Z-cas01.example.org] to registry.
2013-01-08 18:24:15,531 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-1-QdgCR66UkxEaoOAwJQw5P2nXeqhgrIkQisIdZtGWjXiCyRgX9Z-cas01.example.org]
2013-01-08 18:24:15,625 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Terminate web session mkno9qi4h0ivoh3fnj3bhccs in 2 seconds
2013-01-08 18:24:15,625 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Terminate web session mkno9qi4h0ivoh3fnj3bhccs in 2 seconds
2013-01-08 18:24:15,625 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:24:15,625 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:26:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:26:04,187 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:26:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:28:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:28:04,187 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:28:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:30:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:30:04,187 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:30:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:32:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:32:04,187 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:32:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:34:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:34:04,187 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:34:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:36:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:36:04,187 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:36:04,187 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:36:52,281 INFO [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Shutting down Quartz Scheduler
2013-01-08 18:36:52,281 INFO [org.gonetbar.ssa.init.StartServer] - *********服务停止成功*****
2013-01-08 18:38:30,062 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 18:38:30,062 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 18:38:38,703 INFO [org.gonetbar.ssa.init.StartServer] - *********开始加载配置参数*********
2013-01-08 18:38:38,781 INFO [org.gonetbar.ssa.init.StartServer] - *********加载配置参数完成*****
2013-01-08 18:38:38,781 INFO [org.gonetbar.ssa.init.StartServer] - *********启动服务-完成*****
2013-01-08 18:38:39,593 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:38:39,593 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:38:40,421 DEBUG [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Autowired the following triggers defined in application context: [triggerJobDetailTicketRegistryCleaner, periodicServiceRegistryReloaderTrigger]
2013-01-08 18:38:42,234 INFO [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Starting Quartz Scheduler now
2013-01-08 18:38:42,625 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 18:38:42,625 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 18:38:43,656 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.deleteRegisteredService(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 18:38:43,656 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.manage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 18:38:43,656 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.updateRegisteredServiceEvaluationOrder(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 18:38:59,046 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Beginning ticket cleanup.
2013-01-08 18:38:59,046 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Attempting to acquire ticket cleanup lock.
2013-01-08 18:38:59,046 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Acquired lock.  Proceeding with cleanup.
2013-01-08 18:38:59,046 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - 0 tickets found to be removed.
2013-01-08 18:38:59,046 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Releasing ticket cleanup lock.
2013-01-08 18:38:59,046 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Finished ticket cleanup.
2013-01-08 18:39:14,781 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 18:39:14,781 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 18:39:14,796 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:39:14,796 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:39:14,796 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 18:39:16,046 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:39:16,046 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:39:16,046 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:39:16,046 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:39:16,078 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-R1TmpZb2fGLjPw6fi7XcNd56XoGC5D
2013-01-08 18:39:16,078 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-R1TmpZb2fGLjPw6fi7XcNd56XoGC5D
2013-01-08 18:39:19,453 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:39:20,593 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:39:20,593 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:39:20,593 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:39:21,531 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@3b789b
2013-01-08 18:39:21,531 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : c3daf274d57666a6bbf5
2013-01-08 18:39:21,531 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:c3daf274d57666a6bbf5,providerType:GitHubProvider}
2013-01-08 18:39:21,640 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1761bff
2013-01-08 18:39:21,640 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:39:21,640 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@3b789b
2013-01-08 18:39:21,640 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : c3daf274d57666a6bbf5
2013-01-08 18:39:22,671 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 18:39:22,671 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 18:39:23,953 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1282 ms for : https://api.github.com/user
2013-01-08 18:39:23,953 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"type":"User","repos_url":"https://api.github.com/users/wad12302/repos","login":"wad12302","created_at":"2011-08-11T07:33:45Z","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","public_gists":0,"followers":0,"events_url":"https://api.github.com/users/wad12302/events{/privacy}","following_url":"https://api.github.com/users/wad12302/following","total_private_repos":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","private_gists":0,"plan":{"space":307200,"collaborators":0,"private_repos":0,"name":"free"},"received_events_url":"https://api.github.com/users/wad12302/received_events","owned_private_repos":0,"disk_usage":80,"collaborators":0,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","public_repos":2,"html_url":"https://github.com/wad12302","following":0,"avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","updated_at":"2013-01-08T09:48:43Z","starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","id":973288}
2013-01-08 18:39:24,015 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 18:39:24,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 18:39:24,078 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"space":307200,"collaborators":0,"private_repos":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 18:39:24,078 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 18:39:24,078 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 18:39:24,078 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"space":307200,"collaborators":0,"private_repos":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 18:39:24,140 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:39:24,484 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-08 18:39:24,484 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile(String)
2013-01-08 18:39:24,515 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:39:24,515 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-08 18:39:24,515 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-08 18:39:24,531 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1761bff
2013-01-08 18:39:24,531 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 18:39:24,531 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 18:39:24,531 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 18:39:24,546 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Created seed map='{username=[xixyangdewuse@163.com]}' for uid='xixyangdewuse@163.com'
2013-01-08 18:39:24,546 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Adding attribute 'username' with value '[xixyangdewuse@163.com]' to query builder 'null'
2013-01-08 18:39:24,546 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Generated query builder 'sql=[username = ?] args=[xixyangdewuse@163.com]' from query Map {username=[xixyangdewuse@163.com]}.
2013-01-08 18:39:24,578 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Executed 'select * from sso_user where {0}' with arguments [xixyangdewuse@163.com] and got results [{id_user=15, username=xixyangdewuse@163.com, password=d79f2ec8146ec4818f30cf17f7cba06d26a9b861991b740c63af982e27c1deb0af5cf2278cce0a5a, nikename=wewe, id_site=1, createdate=2013-01-07 11:07:06.0, email=xixyangdewuse@163.com}]
2013-01-08 18:39:31,578 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 18:39:31,593 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 18:39:31,593 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {username=xixyangdewuse@163.com, email=xixyangdewuse@163.com, userid=15, siteid=1, nikename=wewe}
2013-01-08 18:39:31,593 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-1-GnQXyfmvv9kqCD0UIBrw1v9a4xHGfmakUmRH9foflw4n0iJecE-cas01.example.org] to registry.
2013-01-08 18:39:31,609 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-1-GnQXyfmvv9kqCD0UIBrw1v9a4xHGfmakUmRH9foflw4n0iJecE-cas01.example.org]
2013-01-08 18:39:31,703 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Terminate web session 10u8nidb4qe2wg2ymai3lxwbp in 2 seconds
2013-01-08 18:39:31,703 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Terminate web session 10u8nidb4qe2wg2ymai3lxwbp in 2 seconds
2013-01-08 18:39:31,703 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:39:31,703 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:40:39,640 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:40:39,640 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:40:39,640 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:42:39,640 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:42:39,640 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:42:39,640 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:44:39,640 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:44:39,640 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:44:39,640 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:46:39,640 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:46:39,640 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:46:39,640 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:47:27,406 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:47:27,500 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT s.menuid, s.menuname, s.subsysid, s.`status`, s.linkurl, s.sort, s.systype, s.isadmin FROM sys_menu s WHERE s.levelflag = 3 AND s.subsysid = ? ORDER BY s.parentid, s.sort, s.createtime DESC 
2013-01-08 18:47:27,500 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 0(String)
2013-01-08 18:47:27,640 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 18:47:27,640 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 18:47:27,640 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 18:47:27,640 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 18:47:28,828 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:47:28,828 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:47:28,828 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:47:28,828 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:47:28,828 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-2-eXQfVxgVszzHGLJzfemK0Ebc2otM09
2013-01-08 18:47:28,828 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-2-eXQfVxgVszzHGLJzfemK0Ebc2otM09
2013-01-08 18:47:33,328 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:47:34,656 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:47:34,656 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:47:34,656 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:47:35,921 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@3b789b
2013-01-08 18:47:35,921 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : c3889fdb8247708c2fe4
2013-01-08 18:47:35,921 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:c3889fdb8247708c2fe4,providerType:GitHubProvider}
2013-01-08 18:47:35,921 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1a1b944
2013-01-08 18:47:35,921 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:47:35,921 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@3b789b
2013-01-08 18:47:35,921 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : c3889fdb8247708c2fe4
2013-01-08 18:47:37,046 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 18:47:37,046 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1282 ms for : https://api.github.com/user
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"total_private_repos":0,"type":"User","login":"wad12302","created_at":"2011-08-11T07:33:45Z","events_url":"https://api.github.com/users/wad12302/events{/privacy}","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","owned_private_repos":0,"followers":0,"following_url":"https://api.github.com/users/wad12302/following","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","public_repos":2,"gravatar_id":"612548c837ea401e1411ed19aee93670","plan":{"private_repos":0,"space":307200,"collaborators":0,"name":"free"},"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","disk_usage":80,"repos_url":"https://api.github.com/users/wad12302/repos","subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","collaborators":0,"public_gists":0,"following":0,"html_url":"https://github.com/wad12302","received_events_url":"https://api.github.com/users/wad12302/received_events","updated_at":"2013-01-08T09:48:43Z","private_gists":0,"id":973288}
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"private_repos":0,"space":307200,"collaborators":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 18:47:38,328 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 18:47:38,328 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"private_repos":0,"space":307200,"collaborators":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 18:47:38,328 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:47:38,343 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-08 18:47:38,343 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile(String)
2013-01-08 18:47:38,343 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:47:38,343 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-08 18:47:38,343 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-08 18:47:38,343 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1a1b944
2013-01-08 18:47:38,343 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 18:47:38,343 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 18:47:38,343 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 18:47:38,343 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Created seed map='{username=[xixyangdewuse@163.com]}' for uid='xixyangdewuse@163.com'
2013-01-08 18:47:38,343 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Adding attribute 'username' with value '[xixyangdewuse@163.com]' to query builder 'null'
2013-01-08 18:47:38,343 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Generated query builder 'sql=[username = ?] args=[xixyangdewuse@163.com]' from query Map {username=[xixyangdewuse@163.com]}.
2013-01-08 18:47:38,343 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Executed 'select * from sso_user where {0}' with arguments [xixyangdewuse@163.com] and got results [{id_user=15, username=xixyangdewuse@163.com, password=d79f2ec8146ec4818f30cf17f7cba06d26a9b861991b740c63af982e27c1deb0af5cf2278cce0a5a, nikename=wewe, id_site=1, createdate=2013-01-07 11:07:06.0, email=xixyangdewuse@163.com}]
2013-01-08 18:47:41,546 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 18:47:41,546 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 18:47:41,546 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {username=xixyangdewuse@163.com, email=xixyangdewuse@163.com, userid=15, siteid=1, nikename=wewe}
2013-01-08 18:47:41,546 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-2-Hu1PZIGCWgY5iIbUbGEV3NsuNvoCZRHhCO9LlSLDAc33leK0dg-cas01.example.org] to registry.
2013-01-08 18:47:41,546 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-2-Hu1PZIGCWgY5iIbUbGEV3NsuNvoCZRHhCO9LlSLDAc33leK0dg-cas01.example.org]
2013-01-08 18:47:41,546 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-2-Hu1PZIGCWgY5iIbUbGEV3NsuNvoCZRHhCO9LlSLDAc33leK0dg-cas01.example.org]
2013-01-08 18:47:41,546 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-2-Hu1PZIGCWgY5iIbUbGEV3NsuNvoCZRHhCO9LlSLDAc33leK0dg-cas01.example.org] found in registry.
2013-01-08 18:47:41,546 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-1-WnXqVbSH6tO4gHbLSccP-cas01.example.org] to registry.
2013-01-08 18:47:41,562 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-1-WnXqVbSH6tO4gHbLSccP-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-08 18:47:41,562 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-2-Hu1PZIGCWgY5iIbUbGEV3NsuNvoCZRHhCO9LlSLDAc33leK0dg-cas01.example.org]
2013-01-08 18:47:41,562 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-2-Hu1PZIGCWgY5iIbUbGEV3NsuNvoCZRHhCO9LlSLDAc33leK0dg-cas01.example.org] found in registry.
2013-01-08 18:47:41,562 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:47:41,562 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:47:58,062 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 18:47:58,062 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 18:47:58,062 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 18:47:58,062 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-1-WnXqVbSH6tO4gHbLSccP-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 18:47:58,062 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 18:47:58,078 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 18:48:04,531 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-1-WnXqVbSH6tO4gHbLSccP-cas01.example.org]
2013-01-08 18:48:04,531 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-1-WnXqVbSH6tO4gHbLSccP-cas01.example.org] found in registry.
2013-01-08 18:48:04,531 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - ServiceTicket [ST-1-WnXqVbSH6tO4gHbLSccP-cas01.example.org] has expired.
2013-01-08 18:48:04,531 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-1-WnXqVbSH6tO4gHbLSccP-cas01.example.org] from registry
2013-01-08 18:48:04,531 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-1-WnXqVbSH6tO4gHbLSccP-cas01.example.org]
2013-01-08 18:48:04,828 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 


<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationFailure code='INVALID_TICKET'>
		???��???��?��?????????????? &#039;ST-1-WnXqVbSH6tO4gHbLSccP-cas01.example.org&#039;??��???
	</cas:authenticationFailure>
</cas:serviceResponse>

2013-01-08 18:48:39,640 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:48:39,640 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:48:39,640 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:48:42,296 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:48:42,296 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:49:18,265 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:49:18,265 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:49:18,265 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 18:49:19,593 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:49:19,593 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:49:19,593 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:49:19,593 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:49:19,593 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-3-19fTwMlwRVVbrcoGGVGNpaCZfwWl2j
2013-01-08 18:49:19,593 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-3-19fTwMlwRVVbrcoGGVGNpaCZfwWl2j
2013-01-08 18:49:26,156 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:49:28,109 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:49:28,109 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:49:28,109 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:49:29,125 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@3b789b
2013-01-08 18:49:29,125 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 42fad051336c64ba6037
2013-01-08 18:49:29,125 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:42fad051336c64ba6037,providerType:GitHubProvider}
2013-01-08 18:49:29,125 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@16be33c
2013-01-08 18:49:29,125 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:49:29,125 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@3b789b
2013-01-08 18:49:29,125 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 42fad051336c64ba6037
2013-01-08 18:49:31,203 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 18:49:31,203 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 18:49:34,437 ERROR [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler threw error authenticating org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@16be33c
2013-01-08 18:49:34,437 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-4-JO5ZNkCXU4VjGDkpXQdT4ZifYfKFeP
2013-01-08 18:49:34,437 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-4-JO5ZNkCXU4VjGDkpXQdT4ZifYfKFeP
2013-01-08 18:49:46,203 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:49:46,468 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:49:46,468 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:49:46,468 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:49:48,312 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@3b789b
2013-01-08 18:49:51,312 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : d7b4db9495d2ad6b7be6
2013-01-08 18:49:52,062 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:d7b4db9495d2ad6b7be6,providerType:GitHubProvider}
2013-01-08 18:50:04,265 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@18366fc
2013-01-08 18:50:04,265 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:50:04,265 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@3b789b
2013-01-08 18:50:04,265 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : d7b4db9495d2ad6b7be6
2013-01-08 18:50:08,484 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 18:50:08,484 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1156 ms for : https://api.github.com/user
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"type":"User","repos_url":"https://api.github.com/users/wad12302/repos","login":"wad12302","created_at":"2011-08-11T07:33:45Z","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","public_gists":0,"followers":0,"events_url":"https://api.github.com/users/wad12302/events{/privacy}","following_url":"https://api.github.com/users/wad12302/following","total_private_repos":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","private_gists":0,"plan":{"space":307200,"collaborators":0,"private_repos":0,"name":"free"},"received_events_url":"https://api.github.com/users/wad12302/received_events","owned_private_repos":0,"disk_usage":80,"collaborators":0,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","public_repos":2,"html_url":"https://github.com/wad12302","following":0,"avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","updated_at":"2013-01-08T09:48:43Z","starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","id":973288}
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"space":307200,"collaborators":0,"private_repos":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 18:50:09,640 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 18:50:09,640 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"space":307200,"collaborators":0,"private_repos":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 18:50:09,656 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:50:09,656 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-08 18:50:09,656 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile(String)
2013-01-08 18:50:09,656 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:50:09,656 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-08 18:50:09,656 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-08 18:50:09,671 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@18366fc
2013-01-08 18:50:09,671 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 18:50:09,671 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 18:50:09,671 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 18:50:09,671 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Created seed map='{username=[xixyangdewuse@163.com]}' for uid='xixyangdewuse@163.com'
2013-01-08 18:50:09,671 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Adding attribute 'username' with value '[xixyangdewuse@163.com]' to query builder 'null'
2013-01-08 18:50:09,671 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Generated query builder 'sql=[username = ?] args=[xixyangdewuse@163.com]' from query Map {username=[xixyangdewuse@163.com]}.
2013-01-08 18:50:09,671 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Executed 'select * from sso_user where {0}' with arguments [xixyangdewuse@163.com] and got results [{id_user=15, username=xixyangdewuse@163.com, password=d79f2ec8146ec4818f30cf17f7cba06d26a9b861991b740c63af982e27c1deb0af5cf2278cce0a5a, nikename=wewe, id_site=1, createdate=2013-01-07 11:07:06.0, email=xixyangdewuse@163.com}]
2013-01-08 18:50:20,343 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 18:50:20,343 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 18:50:20,343 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {username=xixyangdewuse@163.com, email=xixyangdewuse@163.com, userid=15, siteid=1, nikename=wewe}
2013-01-08 18:50:20,359 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-3-NazhuMofiXxcCczD1BMBHRArYAMeA4OPNex4BbfidS0YxAbCtu-cas01.example.org] to registry.
2013-01-08 18:50:20,359 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-3-NazhuMofiXxcCczD1BMBHRArYAMeA4OPNex4BbfidS0YxAbCtu-cas01.example.org]
2013-01-08 18:50:20,359 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-3-NazhuMofiXxcCczD1BMBHRArYAMeA4OPNex4BbfidS0YxAbCtu-cas01.example.org]
2013-01-08 18:50:20,359 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-3-NazhuMofiXxcCczD1BMBHRArYAMeA4OPNex4BbfidS0YxAbCtu-cas01.example.org] found in registry.
2013-01-08 18:50:20,359 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-2-kZVsZqbJn6LctEQE7VgO-cas01.example.org] to registry.
2013-01-08 18:50:20,359 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-2-kZVsZqbJn6LctEQE7VgO-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-08 18:50:20,359 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-3-NazhuMofiXxcCczD1BMBHRArYAMeA4OPNex4BbfidS0YxAbCtu-cas01.example.org]
2013-01-08 18:50:20,359 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-3-NazhuMofiXxcCczD1BMBHRArYAMeA4OPNex4BbfidS0YxAbCtu-cas01.example.org] found in registry.
2013-01-08 18:50:20,359 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:50:20,359 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:50:23,484 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 18:50:23,484 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 18:50:23,484 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 18:50:23,484 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-2-kZVsZqbJn6LctEQE7VgO-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 18:50:23,484 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 18:50:23,484 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 18:50:39,640 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:50:39,640 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:50:39,640 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:51:06,906 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 18:51:06,906 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 18:51:15,718 INFO [org.gonetbar.ssa.init.StartServer] - *********开始加载配置参数*********
2013-01-08 18:51:15,796 INFO [org.gonetbar.ssa.init.StartServer] - *********加载配置参数完成*****
2013-01-08 18:51:15,796 INFO [org.gonetbar.ssa.init.StartServer] - *********启动服务-完成*****
2013-01-08 18:51:16,625 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:51:16,625 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:51:17,453 DEBUG [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Autowired the following triggers defined in application context: [triggerJobDetailTicketRegistryCleaner, periodicServiceRegistryReloaderTrigger]
2013-01-08 18:51:19,359 INFO [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Starting Quartz Scheduler now
2013-01-08 18:51:19,750 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 18:51:19,750 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 18:51:20,765 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.deleteRegisteredService(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 18:51:20,781 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.manage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 18:51:20,781 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.updateRegisteredServiceEvaluationOrder(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 18:51:31,718 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 18:51:31,718 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 18:51:31,718 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 18:51:31,718 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-2-kZVsZqbJn6LctEQE7VgO-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 18:51:31,718 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 18:51:31,812 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 18:51:33,031 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-2-kZVsZqbJn6LctEQE7VgO-cas01.example.org]
2013-01-08 18:51:33,031 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - ServiceTicket [ST-2-kZVsZqbJn6LctEQE7VgO-cas01.example.org] does not exist.
2013-01-08 18:51:33,031 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-2-kZVsZqbJn6LctEQE7VgO-cas01.example.org]
2013-01-08 18:51:36,093 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Beginning ticket cleanup.
2013-01-08 18:51:36,093 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Attempting to acquire ticket cleanup lock.
2013-01-08 18:51:36,093 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Acquired lock.  Proceeding with cleanup.
2013-01-08 18:51:36,093 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - 0 tickets found to be removed.
2013-01-08 18:51:36,093 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Releasing ticket cleanup lock.
2013-01-08 18:51:36,093 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Finished ticket cleanup.
2013-01-08 18:51:36,937 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 


<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationFailure code='INVALID_TICKET'>
		???��???��?��?????????????? &#039;ST-2-kZVsZqbJn6LctEQE7VgO-cas01.example.org&#039;??��???
	</cas:authenticationFailure>
</cas:serviceResponse>

2013-01-08 18:51:47,875 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:51:47,890 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:51:57,156 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 18:51:57,156 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 18:51:57,156 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:51:57,156 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:51:57,156 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 18:51:57,156 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:51:57,171 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:51:57,171 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:51:57,171 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:51:57,187 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-rCzxLHvkjf1zVXTUl1UwpEMMegT1po
2013-01-08 18:51:57,187 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-rCzxLHvkjf1zVXTUl1UwpEMMegT1po
2013-01-08 18:51:58,546 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:51:59,437 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:51:59,437 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:51:59,437 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:52:00,750 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:52:00,750 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : ef6aaca3dee8af007413
2013-01-08 18:52:00,750 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:ef6aaca3dee8af007413,providerType:GitHubProvider}
2013-01-08 18:52:00,781 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1980f96
2013-01-08 18:52:00,796 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:52:00,796 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:52:00,796 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : ef6aaca3dee8af007413
2013-01-08 18:52:02,062 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 18:52:02,062 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 18:52:03,234 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1172 ms for : https://api.github.com/user
2013-01-08 18:52:03,234 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"type":"User","events_url":"https://api.github.com/users/wad12302/events{/privacy}","login":"wad12302","total_private_repos":0,"created_at":"2011-08-11T07:33:45Z","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","public_gists":0,"followers":0,"received_events_url":"https://api.github.com/users/wad12302/received_events","following_url":"https://api.github.com/users/wad12302/following","owned_private_repos":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","private_gists":0,"plan":{"space":307200,"private_repos":0,"name":"free","collaborators":0},"disk_usage":80,"public_repos":2,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","following":0,"html_url":"https://github.com/wad12302","starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","updated_at":"2013-01-08T09:48:43Z","collaborators":0,"repos_url":"https://api.github.com/users/wad12302/repos","id":973288}
2013-01-08 18:52:03,296 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"space":307200,"private_repos":0,"name":"free","collaborators":0} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 18:52:03,343 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 18:52:03,343 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"space":307200,"private_repos":0,"name":"free","collaborators":0}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 18:52:03,406 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:52:03,531 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-08 18:52:03,531 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile(String)
2013-01-08 18:52:03,578 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:52:03,578 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-08 18:52:03,578 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-08 18:52:03,593 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1980f96
2013-01-08 18:52:03,593 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 18:52:03,593 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 18:52:03,593 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 18:52:03,593 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Created seed map='{username=[xixyangdewuse@163.com]}' for uid='xixyangdewuse@163.com'
2013-01-08 18:52:03,593 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Adding attribute 'username' with value '[xixyangdewuse@163.com]' to query builder 'null'
2013-01-08 18:52:03,593 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Generated query builder 'sql=[username = ?] args=[xixyangdewuse@163.com]' from query Map {username=[xixyangdewuse@163.com]}.
2013-01-08 18:52:03,625 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Executed 'select * from sso_user where {0}' with arguments [xixyangdewuse@163.com] and got results [{id_user=15, username=xixyangdewuse@163.com, password=d79f2ec8146ec4818f30cf17f7cba06d26a9b861991b740c63af982e27c1deb0af5cf2278cce0a5a, nikename=wewe, id_site=1, createdate=2013-01-07 11:07:06.0, email=xixyangdewuse@163.com}]
2013-01-08 18:52:32,968 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 18:52:32,968 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 18:52:32,968 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {username=xixyangdewuse@163.com, email=xixyangdewuse@163.com, userid=15, siteid=1, nikename=wewe}
2013-01-08 18:52:32,984 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-1-Kp2f60SqL1NS6ZpTCWyaQu6kECrS4SeHCNCjDUEfiR0KTsgb2B-cas01.example.org] to registry.
2013-01-08 18:52:32,984 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-1-Kp2f60SqL1NS6ZpTCWyaQu6kECrS4SeHCNCjDUEfiR0KTsgb2B-cas01.example.org]
2013-01-08 18:52:33,093 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Terminate web session 10q464of6zrg0d4vu8shprlhu in 2 seconds
2013-01-08 18:52:33,093 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Terminate web session 10q464of6zrg0d4vu8shprlhu in 2 seconds
2013-01-08 18:52:33,093 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:52:33,093 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:53:16,671 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:53:16,671 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:53:16,671 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:53:28,968 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:53:29,046 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT s.menuid, s.menuname, s.subsysid, s.`status`, s.linkurl, s.sort, s.systype, s.isadmin FROM sys_menu s WHERE s.levelflag = 3 AND s.subsysid = ? ORDER BY s.parentid, s.sort, s.createtime DESC 
2013-01-08 18:53:29,046 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 0(String)
2013-01-08 18:53:36,359 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 18:53:36,359 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 18:53:36,359 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 18:53:36,359 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 18:53:36,359 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:53:36,359 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:53:36,359 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:53:36,359 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:53:36,359 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-2-SkRXgLG94PWUofMNoSm0e5M5YyfPtK
2013-01-08 18:53:36,359 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-2-SkRXgLG94PWUofMNoSm0e5M5YyfPtK
2013-01-08 18:53:45,890 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:53:46,781 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:53:46,781 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:53:46,781 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:53:47,984 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:53:47,984 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 8f42a5e27ba017aa6eb5
2013-01-08 18:53:47,984 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:8f42a5e27ba017aa6eb5,providerType:GitHubProvider}
2013-01-08 18:53:47,984 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@14fba39
2013-01-08 18:53:47,984 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:53:47,984 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:53:47,984 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 8f42a5e27ba017aa6eb5
2013-01-08 18:53:48,640 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 18:53:48,640 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1141 ms for : https://api.github.com/user
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"total_private_repos":0,"type":"User","login":"wad12302","created_at":"2011-08-11T07:33:45Z","events_url":"https://api.github.com/users/wad12302/events{/privacy}","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","owned_private_repos":0,"followers":0,"following_url":"https://api.github.com/users/wad12302/following","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","public_repos":2,"gravatar_id":"612548c837ea401e1411ed19aee93670","plan":{"private_repos":0,"space":307200,"collaborators":0,"name":"free"},"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","disk_usage":80,"repos_url":"https://api.github.com/users/wad12302/repos","subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","collaborators":0,"public_gists":0,"following":0,"html_url":"https://github.com/wad12302","received_events_url":"https://api.github.com/users/wad12302/received_events","updated_at":"2013-01-08T09:48:43Z","private_gists":0,"id":973288}
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"private_repos":0,"space":307200,"collaborators":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 18:53:49,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 18:53:49,781 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"private_repos":0,"space":307200,"collaborators":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 18:53:49,781 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@14fba39
2013-01-08 18:53:49,781 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 18:53:49,781 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 18:53:49,781 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 18:53:49,781 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Created seed map='{username=[xixyangdewuse@163.com]}' for uid='xixyangdewuse@163.com'
2013-01-08 18:53:49,781 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Adding attribute 'username' with value '[xixyangdewuse@163.com]' to query builder 'null'
2013-01-08 18:53:49,781 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Generated query builder 'sql=[username = ?] args=[xixyangdewuse@163.com]' from query Map {username=[xixyangdewuse@163.com]}.
2013-01-08 18:53:49,781 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Executed 'select * from sso_user where {0}' with arguments [xixyangdewuse@163.com] and got results [{id_user=15, username=xixyangdewuse@163.com, password=d79f2ec8146ec4818f30cf17f7cba06d26a9b861991b740c63af982e27c1deb0af5cf2278cce0a5a, nikename=wewe, id_site=1, createdate=2013-01-07 11:07:06.0, email=xixyangdewuse@163.com}]
2013-01-08 18:53:58,046 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 18:53:58,046 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 18:53:58,046 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {username=xixyangdewuse@163.com, email=xixyangdewuse@163.com, userid=15, siteid=1, nikename=wewe}
2013-01-08 18:53:58,046 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-2-T9vF5hZcxcRvdGWcmEYfczz799x5fx6cSa3QFEd6NHAsIrKxSA-cas01.example.org] to registry.
2013-01-08 18:53:58,046 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-2-T9vF5hZcxcRvdGWcmEYfczz799x5fx6cSa3QFEd6NHAsIrKxSA-cas01.example.org]
2013-01-08 18:53:58,062 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-2-T9vF5hZcxcRvdGWcmEYfczz799x5fx6cSa3QFEd6NHAsIrKxSA-cas01.example.org]
2013-01-08 18:53:58,109 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-2-T9vF5hZcxcRvdGWcmEYfczz799x5fx6cSa3QFEd6NHAsIrKxSA-cas01.example.org] found in registry.
2013-01-08 18:53:58,109 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-1-Bu7NSHXCqVXGrj7txqIa-cas01.example.org] to registry.
2013-01-08 18:53:58,109 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-1-Bu7NSHXCqVXGrj7txqIa-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-08 18:53:58,109 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-2-T9vF5hZcxcRvdGWcmEYfczz799x5fx6cSa3QFEd6NHAsIrKxSA-cas01.example.org]
2013-01-08 18:53:58,109 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-2-T9vF5hZcxcRvdGWcmEYfczz799x5fx6cSa3QFEd6NHAsIrKxSA-cas01.example.org] found in registry.
2013-01-08 18:53:58,125 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:53:58,125 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:54:00,109 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 18:54:00,109 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 18:54:00,109 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 18:54:00,109 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-1-Bu7NSHXCqVXGrj7txqIa-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 18:54:00,109 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 18:54:00,125 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 18:55:16,671 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:55:16,671 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:55:16,671 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:55:55,093 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:55:55,984 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:55:55,984 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:55:55,984 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:56:44,515 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:56:44,515 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:56:44,515 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 18:56:44,515 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:56:44,515 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:56:44,515 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:56:44,515 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:56:44,515 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-3-Zzlud0c2F00eOecCQZkyprWB7MVp9A
2013-01-08 18:56:44,515 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-3-Zzlud0c2F00eOecCQZkyprWB7MVp9A
2013-01-08 18:56:54,265 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:56:54,531 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:56:54,531 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:56:54,531 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:56:56,765 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:56:56,765 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : b41b141d1fc5eef103e3
2013-01-08 18:56:56,765 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:b41b141d1fc5eef103e3,providerType:GitHubProvider}
2013-01-08 18:56:56,781 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@8d88dd
2013-01-08 18:56:56,781 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:56:56,781 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:56:56,781 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : b41b141d1fc5eef103e3
2013-01-08 18:56:57,703 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 18:56:57,703 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 875 ms for : https://api.github.com/user
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"total_private_repos":0,"type":"User","login":"wad12302","created_at":"2011-08-11T07:33:45Z","events_url":"https://api.github.com/users/wad12302/events{/privacy}","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","owned_private_repos":0,"followers":0,"following_url":"https://api.github.com/users/wad12302/following","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","public_repos":2,"gravatar_id":"612548c837ea401e1411ed19aee93670","plan":{"private_repos":0,"space":307200,"collaborators":0,"name":"free"},"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","disk_usage":80,"repos_url":"https://api.github.com/users/wad12302/repos","subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","collaborators":0,"public_gists":0,"following":0,"html_url":"https://github.com/wad12302","received_events_url":"https://api.github.com/users/wad12302/received_events","updated_at":"2013-01-08T09:48:43Z","private_gists":0,"id":973288}
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 18:56:58,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 18:56:58,593 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 18:56:58,593 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"private_repos":0,"space":307200,"collaborators":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 18:56:58,593 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 18:56:58,593 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 18:56:58,593 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"private_repos":0,"space":307200,"collaborators":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 18:56:58,593 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:56:58,593 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-08 18:56:58,593 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile(String)
2013-01-08 18:56:58,609 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:56:58,609 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-08 18:56:58,609 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-08 18:56:58,609 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@8d88dd
2013-01-08 18:56:58,609 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 18:56:58,609 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 18:56:58,609 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 18:56:58,640 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Created seed map='{username=[xixyangdewuse@163.com]}' for uid='xixyangdewuse@163.com'
2013-01-08 18:56:58,640 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Adding attribute 'username' with value '[xixyangdewuse@163.com]' to query builder 'null'
2013-01-08 18:56:58,640 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Generated query builder 'sql=[username = ?] args=[xixyangdewuse@163.com]' from query Map {username=[xixyangdewuse@163.com]}.
2013-01-08 18:56:58,640 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Executed 'select * from sso_user where {0}' with arguments [xixyangdewuse@163.com] and got results [{id_user=15, username=xixyangdewuse@163.com, password=d79f2ec8146ec4818f30cf17f7cba06d26a9b861991b740c63af982e27c1deb0af5cf2278cce0a5a, nikename=wewe, id_site=1, createdate=2013-01-07 11:07:06.0, email=xixyangdewuse@163.com}]
2013-01-08 18:57:03,187 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 18:57:03,187 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 18:57:03,187 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {username=xixyangdewuse@163.com, email=xixyangdewuse@163.com, userid=15, siteid=1, nikename=wewe}
2013-01-08 18:57:03,187 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-3-i7KJWOCGwwXqin1g0AekGMWX6mZwK29dfLLQygJV94tDF0iNam-cas01.example.org] to registry.
2013-01-08 18:57:03,187 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-3-i7KJWOCGwwXqin1g0AekGMWX6mZwK29dfLLQygJV94tDF0iNam-cas01.example.org]
2013-01-08 18:57:03,203 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-3-i7KJWOCGwwXqin1g0AekGMWX6mZwK29dfLLQygJV94tDF0iNam-cas01.example.org]
2013-01-08 18:57:03,203 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-3-i7KJWOCGwwXqin1g0AekGMWX6mZwK29dfLLQygJV94tDF0iNam-cas01.example.org] found in registry.
2013-01-08 18:57:03,203 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-2-xLN5FuFZuyqJJ3mBjBWW-cas01.example.org] to registry.
2013-01-08 18:57:03,203 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-2-xLN5FuFZuyqJJ3mBjBWW-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-08 18:57:03,203 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-3-i7KJWOCGwwXqin1g0AekGMWX6mZwK29dfLLQygJV94tDF0iNam-cas01.example.org]
2013-01-08 18:57:03,203 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-3-i7KJWOCGwwXqin1g0AekGMWX6mZwK29dfLLQygJV94tDF0iNam-cas01.example.org] found in registry.
2013-01-08 18:57:03,265 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:57:03,265 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:57:16,671 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:57:16,671 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:57:16,671 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:57:22,812 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-1-Bu7NSHXCqVXGrj7txqIa-cas01.example.org]
2013-01-08 18:57:22,812 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-1-Bu7NSHXCqVXGrj7txqIa-cas01.example.org] found in registry.
2013-01-08 18:57:22,812 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - ServiceTicket [ST-1-Bu7NSHXCqVXGrj7txqIa-cas01.example.org] has expired.
2013-01-08 18:57:22,812 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-1-Bu7NSHXCqVXGrj7txqIa-cas01.example.org] from registry
2013-01-08 18:57:22,812 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-1-Bu7NSHXCqVXGrj7txqIa-cas01.example.org]
2013-01-08 18:57:26,406 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 


<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationFailure code='INVALID_TICKET'>
		???��???��?��?????????????? &#039;ST-1-Bu7NSHXCqVXGrj7txqIa-cas01.example.org&#039;??��???
	</cas:authenticationFailure>
</cas:serviceResponse>

2013-01-08 18:57:27,578 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:57:27,578 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 0de6e57ffd7e297d9799
2013-01-08 18:57:27,578 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:0de6e57ffd7e297d9799,providerType:GitHubProvider}
2013-01-08 18:57:27,578 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@13309e9
2013-01-08 18:57:27,578 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:57:27,578 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:57:27,578 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 0de6e57ffd7e297d9799
2013-01-08 18:57:28,312 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 18:57:28,312 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 18:57:28,312 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 18:57:28,312 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-2-xLN5FuFZuyqJJ3mBjBWW-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 18:57:28,312 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 18:57:28,312 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 18:57:28,437 ERROR [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler threw error authenticating org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@13309e9
2013-01-08 18:57:28,437 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-4-3t5Z5Zd5F4ukiDT9pfFjzAeAIBeoAy
2013-01-08 18:57:28,437 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-4-3t5Z5Zd5F4ukiDT9pfFjzAeAIBeoAy
2013-01-08 18:57:29,765 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-2-xLN5FuFZuyqJJ3mBjBWW-cas01.example.org]
2013-01-08 18:57:29,765 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-2-xLN5FuFZuyqJJ3mBjBWW-cas01.example.org] found in registry.
2013-01-08 18:57:29,765 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - ServiceTicket [ST-2-xLN5FuFZuyqJJ3mBjBWW-cas01.example.org] has expired.
2013-01-08 18:57:29,765 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-2-xLN5FuFZuyqJJ3mBjBWW-cas01.example.org] from registry
2013-01-08 18:57:29,765 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-2-xLN5FuFZuyqJJ3mBjBWW-cas01.example.org]
2013-01-08 18:57:29,765 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 


<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationFailure code='INVALID_TICKET'>
		???��???��?��?????????????? &#039;ST-2-xLN5FuFZuyqJJ3mBjBWW-cas01.example.org&#039;??��???
	</cas:authenticationFailure>
</cas:serviceResponse>

2013-01-08 18:57:32,812 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:57:32,812 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:57:47,187 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:57:47,187 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:57:47,187 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 18:57:47,187 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:57:47,187 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 18:57:47,187 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:57:47,187 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:57:47,203 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-5-oglWDrNV4Ez13Xg5awJEXaFW7Kkefg
2013-01-08 18:57:47,203 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-5-oglWDrNV4Ez13Xg5awJEXaFW7Kkefg
2013-01-08 18:57:48,484 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:57:49,578 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:57:49,578 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:57:49,578 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:57:51,031 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:57:52,000 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : a1bf68d91e74a6530c98
2013-01-08 18:57:52,000 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:a1bf68d91e74a6530c98,providerType:GitHubProvider}
2013-01-08 18:57:52,000 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@501d80
2013-01-08 18:57:52,000 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:57:52,000 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:57:52,000 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : a1bf68d91e74a6530c98
2013-01-08 18:57:52,640 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 18:57:52,640 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1141 ms for : https://api.github.com/user
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"type":"User","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","login":"wad12302","public_gists":0,"created_at":"2011-08-11T07:33:45Z","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","total_private_repos":0,"followers":0,"following_url":"https://api.github.com/users/wad12302/following","private_gists":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","owned_private_repos":0,"plan":{"space":307200,"collaborators":0,"private_repos":0,"name":"free"},"disk_usage":80,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","collaborators":0,"following":0,"html_url":"https://github.com/wad12302","events_url":"https://api.github.com/users/wad12302/events{/privacy}","repos_url":"https://api.github.com/users/wad12302/repos","updated_at":"2013-01-08T09:48:43Z","public_repos":2,"received_events_url":"https://api.github.com/users/wad12302/received_events","id":973288,"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}"}
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 18:57:53,781 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"space":307200,"collaborators":0,"private_repos":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 18:57:53,796 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 18:57:53,796 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 18:57:53,796 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"space":307200,"collaborators":0,"private_repos":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 18:57:53,796 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@501d80
2013-01-08 18:57:53,796 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 18:57:53,796 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 18:57:53,796 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 18:57:53,796 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Created seed map='{username=[xixyangdewuse@163.com]}' for uid='xixyangdewuse@163.com'
2013-01-08 18:57:53,796 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Adding attribute 'username' with value '[xixyangdewuse@163.com]' to query builder 'null'
2013-01-08 18:57:53,796 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Generated query builder 'sql=[username = ?] args=[xixyangdewuse@163.com]' from query Map {username=[xixyangdewuse@163.com]}.
2013-01-08 18:57:53,796 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Executed 'select * from sso_user where {0}' with arguments [xixyangdewuse@163.com] and got results [{id_user=15, username=xixyangdewuse@163.com, password=d79f2ec8146ec4818f30cf17f7cba06d26a9b861991b740c63af982e27c1deb0af5cf2278cce0a5a, nikename=wewe, id_site=1, createdate=2013-01-07 11:07:06.0, email=xixyangdewuse@163.com}]
2013-01-08 18:57:58,359 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 18:57:58,359 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 18:57:58,359 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {username=xixyangdewuse@163.com, email=xixyangdewuse@163.com, userid=15, siteid=1, nikename=wewe}
2013-01-08 18:57:58,359 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-4-cvUtGMa71WMbdnlCgnBBBvblqdiYFyrqlpe933TqVikIPERQe1-cas01.example.org] to registry.
2013-01-08 18:57:58,359 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-4-cvUtGMa71WMbdnlCgnBBBvblqdiYFyrqlpe933TqVikIPERQe1-cas01.example.org]
2013-01-08 18:57:58,375 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-4-cvUtGMa71WMbdnlCgnBBBvblqdiYFyrqlpe933TqVikIPERQe1-cas01.example.org]
2013-01-08 18:57:58,375 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-4-cvUtGMa71WMbdnlCgnBBBvblqdiYFyrqlpe933TqVikIPERQe1-cas01.example.org] found in registry.
2013-01-08 18:57:58,375 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-3-sxdCYW7cZzTKwhDYoA1u-cas01.example.org] to registry.
2013-01-08 18:57:58,375 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-3-sxdCYW7cZzTKwhDYoA1u-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-08 18:57:58,406 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-4-cvUtGMa71WMbdnlCgnBBBvblqdiYFyrqlpe933TqVikIPERQe1-cas01.example.org]
2013-01-08 18:57:58,406 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-4-cvUtGMa71WMbdnlCgnBBBvblqdiYFyrqlpe933TqVikIPERQe1-cas01.example.org] found in registry.
2013-01-08 18:57:58,421 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:57:58,421 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:58:01,984 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 18:58:01,984 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 18:58:01,984 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 18:58:01,984 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-3-sxdCYW7cZzTKwhDYoA1u-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 18:58:01,984 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 18:58:01,984 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 18:59:00,968 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:59:01,234 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:59:01,234 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:59:01,234 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:59:08,203 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 18:59:08,453 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:59:08,453 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 18:59:08,453 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 18:59:09,687 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:59:09,687 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : a646d7ade150206471a5
2013-01-08 18:59:09,687 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:a646d7ade150206471a5,providerType:GitHubProvider}
2013-01-08 18:59:09,687 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1df425f
2013-01-08 18:59:09,687 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:59:09,687 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:59:09,687 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : a646d7ade150206471a5
2013-01-08 18:59:10,578 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 18:59:10,578 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1172 ms for : https://api.github.com/user
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"type":"User","login":"wad12302","created_at":"2011-08-11T07:33:45Z","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","followers":0,"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","following_url":"https://api.github.com/users/wad12302/following","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","total_private_repos":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","collaborators":0,"plan":{"private_repos":0,"space":307200,"collaborators":0,"name":"free"},"public_repos":2,"repos_url":"https://api.github.com/users/wad12302/repos","owned_private_repos":0,"disk_usage":80,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","public_gists":0,"events_url":"https://api.github.com/users/wad12302/events{/privacy}","following":0,"html_url":"https://github.com/wad12302","private_gists":0,"updated_at":"2013-01-08T09:48:43Z","received_events_url":"https://api.github.com/users/wad12302/received_events","id":973288}
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"private_repos":0,"space":307200,"collaborators":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 18:59:11,750 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 18:59:11,750 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"private_repos":0,"space":307200,"collaborators":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 18:59:11,750 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:59:11,750 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-08 18:59:11,750 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile(String)
2013-01-08 18:59:11,765 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 18:59:11,765 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-08 18:59:11,765 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-08 18:59:11,765 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1df425f
2013-01-08 18:59:11,765 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 18:59:11,765 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 18:59:11,765 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 18:59:11,765 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Created seed map='{username=[xixyangdewuse@163.com]}' for uid='xixyangdewuse@163.com'
2013-01-08 18:59:11,765 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Adding attribute 'username' with value '[xixyangdewuse@163.com]' to query builder 'null'
2013-01-08 18:59:11,765 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Generated query builder 'sql=[username = ?] args=[xixyangdewuse@163.com]' from query Map {username=[xixyangdewuse@163.com]}.
2013-01-08 18:59:11,765 DEBUG [org.jasig.services.persondir.support.jdbc.Kan21SingleRowJdbcPersonAttributeDao] - Executed 'select * from sso_user where {0}' with arguments [xixyangdewuse@163.com] and got results [{id_user=15, username=xixyangdewuse@163.com, password=d79f2ec8146ec4818f30cf17f7cba06d26a9b861991b740c63af982e27c1deb0af5cf2278cce0a5a, nikename=wewe, id_site=1, createdate=2013-01-07 11:07:06.0, email=xixyangdewuse@163.com}]
2013-01-08 18:59:16,671 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 18:59:16,671 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 18:59:16,671 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 18:59:20,109 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-3-sxdCYW7cZzTKwhDYoA1u-cas01.example.org]
2013-01-08 18:59:20,109 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-3-sxdCYW7cZzTKwhDYoA1u-cas01.example.org] found in registry.
2013-01-08 18:59:20,109 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - ServiceTicket [ST-3-sxdCYW7cZzTKwhDYoA1u-cas01.example.org] has expired.
2013-01-08 18:59:20,109 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-3-sxdCYW7cZzTKwhDYoA1u-cas01.example.org] from registry
2013-01-08 18:59:20,109 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-3-sxdCYW7cZzTKwhDYoA1u-cas01.example.org]
2013-01-08 18:59:20,109 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 


<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationFailure code='INVALID_TICKET'>
		???��???��?��?????????????? &#039;ST-3-sxdCYW7cZzTKwhDYoA1u-cas01.example.org&#039;??��???
	</cas:authenticationFailure>
</cas:serviceResponse>

2013-01-08 18:59:24,671 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:59:24,671 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : be6ca8dfcff4666d7009
2013-01-08 18:59:24,671 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:be6ca8dfcff4666d7009,providerType:GitHubProvider}
2013-01-08 18:59:24,671 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@d9ae18
2013-01-08 18:59:24,671 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 18:59:24,671 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@e67bbf
2013-01-08 18:59:24,671 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : be6ca8dfcff4666d7009
2013-01-08 18:59:25,312 ERROR [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler threw error authenticating org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@d9ae18
2013-01-08 18:59:25,328 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-6-Geh3kre6WyiAJbe5NOQFNkf0XfTrpB
2013-01-08 18:59:25,328 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-6-Geh3kre6WyiAJbe5NOQFNkf0XfTrpB
2013-01-08 18:59:36,921 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 18:59:36,921 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 18:59:36,921 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {username=xixyangdewuse@163.com, email=xixyangdewuse@163.com, userid=15, siteid=1, nikename=wewe}
2013-01-08 18:59:36,921 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-5-Yrae6h2eJJYnjsxzbMVkbY7VR9KgYaEQQ1uYesG5xvkyveHgGv-cas01.example.org] to registry.
2013-01-08 18:59:36,921 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-5-Yrae6h2eJJYnjsxzbMVkbY7VR9KgYaEQQ1uYesG5xvkyveHgGv-cas01.example.org]
2013-01-08 18:59:36,921 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-5-Yrae6h2eJJYnjsxzbMVkbY7VR9KgYaEQQ1uYesG5xvkyveHgGv-cas01.example.org]
2013-01-08 18:59:36,921 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-5-Yrae6h2eJJYnjsxzbMVkbY7VR9KgYaEQQ1uYesG5xvkyveHgGv-cas01.example.org] found in registry.
2013-01-08 18:59:36,921 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-4-QklNh2U6hu2rXLtuvF1S-cas01.example.org] to registry.
2013-01-08 18:59:36,921 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-4-QklNh2U6hu2rXLtuvF1S-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-08 18:59:36,921 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-5-Yrae6h2eJJYnjsxzbMVkbY7VR9KgYaEQQ1uYesG5xvkyveHgGv-cas01.example.org]
2013-01-08 18:59:36,921 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-5-Yrae6h2eJJYnjsxzbMVkbY7VR9KgYaEQQ1uYesG5xvkyveHgGv-cas01.example.org] found in registry.
2013-01-08 18:59:36,921 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:59:36,921 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 18:59:40,937 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 18:59:40,937 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 18:59:40,937 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 18:59:40,937 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-4-QklNh2U6hu2rXLtuvF1S-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 18:59:40,953 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 18:59:50,296 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:00:23,390 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-4-QklNh2U6hu2rXLtuvF1S-cas01.example.org]
2013-01-08 19:00:23,390 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-4-QklNh2U6hu2rXLtuvF1S-cas01.example.org] found in registry.
2013-01-08 19:00:23,390 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - ServiceTicket [ST-4-QklNh2U6hu2rXLtuvF1S-cas01.example.org] has expired.
2013-01-08 19:00:23,390 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-4-QklNh2U6hu2rXLtuvF1S-cas01.example.org] from registry
2013-01-08 19:00:23,390 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-4-QklNh2U6hu2rXLtuvF1S-cas01.example.org]
2013-01-08 19:00:23,390 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 


<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationFailure code='INVALID_TICKET'>
		???��???��?��?????????????? &#039;ST-4-QklNh2U6hu2rXLtuvF1S-cas01.example.org&#039;??��???
	</cas:authenticationFailure>
</cas:serviceResponse>

2013-01-08 19:00:27,953 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:00:27,953 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:01:23,562 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 19:01:23,562 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 19:01:32,453 INFO [org.gonetbar.ssa.init.StartServer] - *********开始加载配置参数*********
2013-01-08 19:01:32,515 INFO [org.gonetbar.ssa.init.StartServer] - *********加载配置参数完成*****
2013-01-08 19:01:32,515 INFO [org.gonetbar.ssa.init.StartServer] - *********启动服务-完成*****
2013-01-08 19:01:33,234 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 19:01:33,234 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 19:01:34,125 DEBUG [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Autowired the following triggers defined in application context: [triggerJobDetailTicketRegistryCleaner, periodicServiceRegistryReloaderTrigger]
2013-01-08 19:01:35,921 INFO [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Starting Quartz Scheduler now
2013-01-08 19:01:36,500 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 19:01:36,500 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 19:01:37,593 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.deleteRegisteredService(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 19:01:37,593 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.manage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 19:01:37,593 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.updateRegisteredServiceEvaluationOrder(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 19:01:52,093 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:01:52,093 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:01:52,828 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Beginning ticket cleanup.
2013-01-08 19:01:52,828 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Attempting to acquire ticket cleanup lock.
2013-01-08 19:01:52,828 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Acquired lock.  Proceeding with cleanup.
2013-01-08 19:01:52,828 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - 0 tickets found to be removed.
2013-01-08 19:01:52,828 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Releasing ticket cleanup lock.
2013-01-08 19:01:52,828 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Finished ticket cleanup.
2013-01-08 19:02:45,156 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:02:45,343 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT s.menuid, s.menuname, s.subsysid, s.`status`, s.linkurl, s.sort, s.systype, s.isadmin FROM sys_menu s WHERE s.levelflag = 3 AND s.subsysid = ? ORDER BY s.parentid, s.sort, s.createtime DESC 
2013-01-08 19:02:45,343 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 0(String)
2013-01-08 19:02:47,390 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 19:02:47,390 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 19:02:47,390 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:02:47,390 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:02:47,390 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:02:47,390 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 19:02:47,406 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:02:47,406 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:02:47,406 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:02:47,406 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:02:47,421 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-hlWA4yekkzwbUFM7QBrfkQCf2f1Xt0
2013-01-08 19:02:47,421 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-hlWA4yekkzwbUFM7QBrfkQCf2f1Xt0
2013-01-08 19:02:53,640 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:02:54,531 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:02:54,531 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:02:54,531 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 19:02:56,187 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@6b24a3
2013-01-08 19:02:56,781 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 058e5439f4a94c692b32
2013-01-08 19:02:57,125 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:058e5439f4a94c692b32,providerType:GitHubProvider}
2013-01-08 19:02:58,718 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@6422f2
2013-01-08 19:02:58,718 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 19:02:58,718 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@6b24a3
2013-01-08 19:02:58,718 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 058e5439f4a94c692b32
2013-01-08 19:02:59,750 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 19:02:59,750 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 19:03:03,046 ERROR [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler threw error authenticating org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@6422f2
2013-01-08 19:03:03,062 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-2-MNvGrQ7GhXjJ9uvBKfAroM6Oi15DDE
2013-01-08 19:03:03,062 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-2-MNvGrQ7GhXjJ9uvBKfAroM6Oi15DDE
2013-01-08 19:03:33,281 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 19:03:33,281 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 19:03:33,281 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 19:03:34,687 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:03:34,687 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:03:34,687 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 19:03:35,796 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@6b24a3
2013-01-08 19:03:35,796 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 058e5439f4a94c692b32
2013-01-08 19:03:35,796 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:058e5439f4a94c692b32,providerType:GitHubProvider}
2013-01-08 19:03:35,796 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1f3420e
2013-01-08 19:03:35,796 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 19:03:35,796 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@6b24a3
2013-01-08 19:03:35,796 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 058e5439f4a94c692b32
2013-01-08 19:03:36,671 ERROR [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler threw error authenticating org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@1f3420e
2013-01-08 19:03:36,671 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-3-veegGEguBKgWJuQjiKcfo9zlbhbEcl
2013-01-08 19:03:36,671 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-3-veegGEguBKgWJuQjiKcfo9zlbhbEcl
2013-01-08 19:03:46,906 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:03:47,171 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:03:47,171 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:03:47,171 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 19:03:48,187 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@6b24a3
2013-01-08 19:03:50,234 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : cbb2b10623d5b31d7a1c
2013-01-08 19:03:51,968 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:cbb2b10623d5b31d7a1c,providerType:GitHubProvider}
2013-01-08 19:04:03,734 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@5320a5
2013-01-08 19:04:03,734 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 19:04:03,734 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@6b24a3
2013-01-08 19:04:03,734 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : cbb2b10623d5b31d7a1c
2013-01-08 19:04:04,625 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 19:04:04,625 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 19:04:05,859 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1219 ms for : https://api.github.com/user
2013-01-08 19:04:05,859 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"type":"User","repos_url":"https://api.github.com/users/wad12302/repos","login":"wad12302","created_at":"2011-08-11T07:33:45Z","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","public_gists":0,"followers":0,"events_url":"https://api.github.com/users/wad12302/events{/privacy}","following_url":"https://api.github.com/users/wad12302/following","total_private_repos":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","private_gists":0,"plan":{"space":307200,"collaborators":0,"private_repos":0,"name":"free"},"received_events_url":"https://api.github.com/users/wad12302/received_events","owned_private_repos":0,"disk_usage":80,"collaborators":0,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","public_repos":2,"html_url":"https://github.com/wad12302","following":0,"avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","updated_at":"2013-01-08T09:48:43Z","starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","id":973288}
2013-01-08 19:04:05,968 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 19:04:06,062 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 19:04:06,078 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"space":307200,"collaborators":0,"private_repos":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 19:04:06,078 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 19:04:06,078 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 19:04:08,375 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"space":307200,"collaborators":0,"private_repos":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 19:04:14,156 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:04:14,406 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-08 19:04:14,406 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile(String)
2013-01-08 19:04:17,484 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:04:17,484 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-08 19:04:17,484 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-08 19:04:26,890 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@5320a5
2013-01-08 19:04:26,890 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 19:04:26,890 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 19:04:26,890 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 19:04:26,890 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 19:04:26,890 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 19:04:26,890 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {uid=uid, eduPersonAffiliation=eduPersonAffiliation, groupMembership=groupMembership}
2013-01-08 19:04:26,906 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-1-5EuPfdzLGgLkdaSweHkKzoiZ6W3bwj6obzx7C9A1GesuBFsGXz-cas01.example.org] to registry.
2013-01-08 19:04:26,906 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-1-5EuPfdzLGgLkdaSweHkKzoiZ6W3bwj6obzx7C9A1GesuBFsGXz-cas01.example.org]
2013-01-08 19:04:26,906 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-1-5EuPfdzLGgLkdaSweHkKzoiZ6W3bwj6obzx7C9A1GesuBFsGXz-cas01.example.org]
2013-01-08 19:04:26,906 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-1-5EuPfdzLGgLkdaSweHkKzoiZ6W3bwj6obzx7C9A1GesuBFsGXz-cas01.example.org] found in registry.
2013-01-08 19:04:26,906 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-1-EsFY2Whh3EdiErD5SCgv-cas01.example.org] to registry.
2013-01-08 19:04:26,906 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-1-EsFY2Whh3EdiErD5SCgv-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-08 19:04:26,906 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-1-5EuPfdzLGgLkdaSweHkKzoiZ6W3bwj6obzx7C9A1GesuBFsGXz-cas01.example.org]
2013-01-08 19:04:26,906 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-1-5EuPfdzLGgLkdaSweHkKzoiZ6W3bwj6obzx7C9A1GesuBFsGXz-cas01.example.org] found in registry.
2013-01-08 19:04:26,953 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 19:04:26,953 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 19:04:29,734 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 19:04:29,750 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 19:04:29,750 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 19:04:29,750 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-1-EsFY2Whh3EdiErD5SCgv-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 19:04:29,750 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 19:05:14,656 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:05:15,546 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:05:15,546 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:05:15,546 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 19:05:16,250 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@6b24a3
2013-01-08 19:05:16,250 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : e39a96c89f9da27d3986
2013-01-08 19:05:16,250 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:e39a96c89f9da27d3986,providerType:GitHubProvider}
2013-01-08 19:05:16,250 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@129730f
2013-01-08 19:05:16,250 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 19:05:16,250 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@6b24a3
2013-01-08 19:05:16,250 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : e39a96c89f9da27d3986
2013-01-08 19:05:17,125 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 19:05:17,125 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 19:05:17,140 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1312 ms for : https://api.github.com/user
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"type":"User","events_url":"https://api.github.com/users/wad12302/events{/privacy}","login":"wad12302","total_private_repos":0,"created_at":"2011-08-11T07:33:45Z","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","public_gists":0,"followers":0,"received_events_url":"https://api.github.com/users/wad12302/received_events","following_url":"https://api.github.com/users/wad12302/following","owned_private_repos":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","private_gists":0,"plan":{"space":307200,"private_repos":0,"name":"free","collaborators":0},"disk_usage":80,"public_repos":2,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","following":0,"html_url":"https://github.com/wad12302","starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","updated_at":"2013-01-08T09:48:43Z","collaborators":0,"repos_url":"https://api.github.com/users/wad12302/repos","id":973288}
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"space":307200,"private_repos":0,"name":"free","collaborators":0} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 19:05:18,437 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 19:05:19,765 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-1-EsFY2Whh3EdiErD5SCgv-cas01.example.org]
2013-01-08 19:05:19,765 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-1-EsFY2Whh3EdiErD5SCgv-cas01.example.org] found in registry.
2013-01-08 19:05:19,765 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - ServiceTicket [ST-1-EsFY2Whh3EdiErD5SCgv-cas01.example.org] has expired.
2013-01-08 19:05:19,765 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-1-EsFY2Whh3EdiErD5SCgv-cas01.example.org] from registry
2013-01-08 19:05:19,765 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-1-EsFY2Whh3EdiErD5SCgv-cas01.example.org]
2013-01-08 19:05:19,937 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 


<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationFailure code='INVALID_TICKET'>
		???��???��?��?????????????? &#039;ST-1-EsFY2Whh3EdiErD5SCgv-cas01.example.org&#039;??��???
	</cas:authenticationFailure>
</cas:serviceResponse>

2013-01-08 19:05:21,781 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"space":307200,"private_repos":0,"name":"free","collaborators":0}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 19:05:21,796 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@129730f
2013-01-08 19:05:21,796 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 19:05:21,812 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 19:05:21,812 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 19:05:21,812 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 19:05:21,812 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 19:05:21,812 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {uid=uid, eduPersonAffiliation=eduPersonAffiliation, groupMembership=groupMembership}
2013-01-08 19:05:21,812 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-2-b1ekGNkcRFoz5oIreLL1nPnBHwHxDtU6Uthc1CdZf52yFVPjMe-cas01.example.org] to registry.
2013-01-08 19:05:21,812 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-2-b1ekGNkcRFoz5oIreLL1nPnBHwHxDtU6Uthc1CdZf52yFVPjMe-cas01.example.org]
2013-01-08 19:05:21,812 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-2-b1ekGNkcRFoz5oIreLL1nPnBHwHxDtU6Uthc1CdZf52yFVPjMe-cas01.example.org]
2013-01-08 19:05:21,812 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-2-b1ekGNkcRFoz5oIreLL1nPnBHwHxDtU6Uthc1CdZf52yFVPjMe-cas01.example.org] found in registry.
2013-01-08 19:05:21,812 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-2-Fv6eDs6KdeCswsktlOQc-cas01.example.org] to registry.
2013-01-08 19:05:21,812 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-2-Fv6eDs6KdeCswsktlOQc-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-08 19:05:21,812 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-2-b1ekGNkcRFoz5oIreLL1nPnBHwHxDtU6Uthc1CdZf52yFVPjMe-cas01.example.org]
2013-01-08 19:05:21,812 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-2-b1ekGNkcRFoz5oIreLL1nPnBHwHxDtU6Uthc1CdZf52yFVPjMe-cas01.example.org] found in registry.
2013-01-08 19:05:21,812 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 19:05:21,812 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 19:05:24,515 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 19:05:24,515 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 19:05:24,515 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 19:05:33,281 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 19:05:33,281 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 19:05:33,281 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 19:05:33,750 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-2-Fv6eDs6KdeCswsktlOQc-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 19:05:33,750 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 19:05:38,000 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:05:39,421 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-2-Fv6eDs6KdeCswsktlOQc-cas01.example.org]
2013-01-08 19:05:39,421 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-2-Fv6eDs6KdeCswsktlOQc-cas01.example.org] found in registry.
2013-01-08 19:05:39,421 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - ServiceTicket [ST-2-Fv6eDs6KdeCswsktlOQc-cas01.example.org] has expired.
2013-01-08 19:05:39,421 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-2-Fv6eDs6KdeCswsktlOQc-cas01.example.org] from registry
2013-01-08 19:05:39,421 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-2-Fv6eDs6KdeCswsktlOQc-cas01.example.org]
2013-01-08 19:05:39,421 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 


<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationFailure code='INVALID_TICKET'>
		???��???��?��?????????????? &#039;ST-2-Fv6eDs6KdeCswsktlOQc-cas01.example.org&#039;??��???
	</cas:authenticationFailure>
</cas:serviceResponse>

2013-01-08 19:05:39,468 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:05:39,468 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:06:01,953 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:06:01,953 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT s.menuid, s.menuname, s.subsysid, s.`status`, s.linkurl, s.sort, s.systype, s.isadmin FROM sys_menu s WHERE s.levelflag = 3 AND s.subsysid = ? ORDER BY s.parentid, s.sort, s.createtime DESC 
2013-01-08 19:06:01,953 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 0(String)
2013-01-08 19:06:03,031 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:06:03,031 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:06:03,031 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:06:03,031 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 19:06:03,031 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:06:03,031 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:06:03,031 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:06:03,031 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:06:03,031 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-4-whK3YB3ISdyDy3oCoiRRS7WOSpDWwW
2013-01-08 19:06:03,031 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-4-whK3YB3ISdyDy3oCoiRRS7WOSpDWwW
2013-01-08 19:06:06,328 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:06:06,578 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:06:06,578 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:06:06,578 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 19:06:09,453 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@6b24a3
2013-01-08 19:06:09,453 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : efc83046528534f7a4a9
2013-01-08 19:06:09,453 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:efc83046528534f7a4a9,providerType:GitHubProvider}
2013-01-08 19:06:09,453 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@15c9173
2013-01-08 19:06:09,453 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 19:06:09,453 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@6b24a3
2013-01-08 19:06:09,453 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : efc83046528534f7a4a9
2013-01-08 19:06:12,718 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 19:06:12,718 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1172 ms for : https://api.github.com/user
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"total_private_repos":0,"type":"User","login":"wad12302","created_at":"2011-08-11T07:33:45Z","events_url":"https://api.github.com/users/wad12302/events{/privacy}","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","owned_private_repos":0,"followers":0,"following_url":"https://api.github.com/users/wad12302/following","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","public_repos":2,"gravatar_id":"612548c837ea401e1411ed19aee93670","plan":{"private_repos":0,"space":307200,"collaborators":0,"name":"free"},"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","disk_usage":80,"repos_url":"https://api.github.com/users/wad12302/repos","subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","collaborators":0,"public_gists":0,"following":0,"html_url":"https://github.com/wad12302","received_events_url":"https://api.github.com/users/wad12302/received_events","updated_at":"2013-01-08T09:48:43Z","private_gists":0,"id":973288}
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"private_repos":0,"space":307200,"collaborators":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 19:06:13,890 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"private_repos":0,"space":307200,"collaborators":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 19:06:16,328 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:06:16,328 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-08 19:06:16,328 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile(String)
2013-01-08 19:06:16,328 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@15c9173
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 19:06:16,328 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 19:06:16,328 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {uid=uid, eduPersonAffiliation=eduPersonAffiliation, groupMembership=groupMembership}
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-3-AUvqTXd7RysDaKYyNjp4nbMNSIk6TjjfSXakkbK4Ha3TcoLZcH-cas01.example.org] to registry.
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-3-AUvqTXd7RysDaKYyNjp4nbMNSIk6TjjfSXakkbK4Ha3TcoLZcH-cas01.example.org]
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-3-AUvqTXd7RysDaKYyNjp4nbMNSIk6TjjfSXakkbK4Ha3TcoLZcH-cas01.example.org]
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-3-AUvqTXd7RysDaKYyNjp4nbMNSIk6TjjfSXakkbK4Ha3TcoLZcH-cas01.example.org] found in registry.
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-3-cZeYTqbqTWdL2Lcp1nf3-cas01.example.org] to registry.
2013-01-08 19:06:16,328 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-3-cZeYTqbqTWdL2Lcp1nf3-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-3-AUvqTXd7RysDaKYyNjp4nbMNSIk6TjjfSXakkbK4Ha3TcoLZcH-cas01.example.org]
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-3-AUvqTXd7RysDaKYyNjp4nbMNSIk6TjjfSXakkbK4Ha3TcoLZcH-cas01.example.org] found in registry.
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 19:06:16,328 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 19:06:19,203 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 19:06:19,203 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 19:06:19,203 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 19:06:57,453 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-3-cZeYTqbqTWdL2Lcp1nf3-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 19:07:02,593 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 19:07:33,281 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 19:07:33,281 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 19:07:33,281 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 19:09:56,484 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 19:09:56,484 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 19:10:05,156 INFO [org.gonetbar.ssa.init.StartServer] - *********开始加载配置参数*********
2013-01-08 19:10:05,218 INFO [org.gonetbar.ssa.init.StartServer] - *********加载配置参数完成*****
2013-01-08 19:10:05,218 INFO [org.gonetbar.ssa.init.StartServer] - *********启动服务-完成*****
2013-01-08 19:10:06,015 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 19:10:06,015 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 19:10:06,734 DEBUG [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Autowired the following triggers defined in application context: [triggerJobDetailTicketRegistryCleaner, periodicServiceRegistryReloaderTrigger]
2013-01-08 19:10:08,718 INFO [org.jasig.cas.util.AutowiringSchedulerFactoryBean] - Starting Quartz Scheduler now
2013-01-08 19:10:09,109 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]
2013-01-08 19:10:09,109 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - Loading properties file from ServletContext resource [/WEB-INF/cas.properties]
2013-01-08 19:10:10,234 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.deleteRegisteredService(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 19:10:10,234 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.manage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 19:10:10,234 DEBUG [org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController] - Found action method [public org.springframework.web.servlet.ModelAndView org.jasig.cas.services.web.ManageRegisteredServicesMultiActionController.updateRegisteredServiceEvaluationOrder(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]
2013-01-08 19:10:22,562 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:10:25,593 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Beginning ticket cleanup.
2013-01-08 19:10:25,593 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Attempting to acquire ticket cleanup lock.
2013-01-08 19:10:25,593 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Acquired lock.  Proceeding with cleanup.
2013-01-08 19:10:25,593 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - 0 tickets found to be removed.
2013-01-08 19:10:25,593 DEBUG [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Releasing ticket cleanup lock.
2013-01-08 19:10:25,609 INFO [org.jasig.cas.ticket.registry.support.DefaultTicketRegistryCleaner] - Finished ticket cleanup.
2013-01-08 19:10:39,937 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-3-cZeYTqbqTWdL2Lcp1nf3-cas01.example.org]
2013-01-08 19:10:39,937 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - ServiceTicket [ST-3-cZeYTqbqTWdL2Lcp1nf3-cas01.example.org] does not exist.
2013-01-08 19:10:39,953 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-3-cZeYTqbqTWdL2Lcp1nf3-cas01.example.org]
2013-01-08 19:10:55,609 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 19:10:55,609 INFO [org.jasig.cas.web.flow.InitialFlowSetupAction] - Setting path for cookies to: /cas/
2013-01-08 19:10:55,609 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:10:55,609 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:10:55,609 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 19:10:55,609 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:10:55,625 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:10:55,625 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:10:55,625 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:10:55,625 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-tzdMty3jUWoMmakI7U2VSphjS4Kdl6
2013-01-08 19:10:55,625 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-1-tzdMty3jUWoMmakI7U2VSphjS4Kdl6
2013-01-08 19:10:57,125 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:10:58,156 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:10:58,156 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:10:58,156 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 19:10:58,875 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@17f6aba
2013-01-08 19:10:58,890 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : d5010e67162f365b122a
2013-01-08 19:10:58,890 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:d5010e67162f365b122a,providerType:GitHubProvider}
2013-01-08 19:10:58,906 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@a4ab33
2013-01-08 19:10:58,906 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 19:10:58,906 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@17f6aba
2013-01-08 19:10:58,906 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : d5010e67162f365b122a
2013-01-08 19:11:00,250 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 19:11:00,250 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 19:11:01,484 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1234 ms for : https://api.github.com/user
2013-01-08 19:11:01,484 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"owned_private_repos":0,"type":"User","login":"wad12302","public_gists":0,"created_at":"2011-08-11T07:33:45Z","events_url":"https://api.github.com/users/wad12302/events{/privacy}","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","collaborators":0,"followers":0,"following_url":"https://api.github.com/users/wad12302/following","private_gists":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","plan":{"collaborators":0,"space":307200,"private_repos":0,"name":"free"},"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","disk_usage":80,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","html_url":"https://github.com/wad12302","following":0,"updated_at":"2013-01-08T09:48:43Z","repos_url":"https://api.github.com/users/wad12302/repos","total_private_repos":0,"public_repos":2,"id":973288,"received_events_url":"https://api.github.com/users/wad12302/received_events"}
2013-01-08 19:11:01,546 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 19:11:01,578 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 19:11:01,593 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"collaborators":0,"space":307200,"private_repos":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 19:11:01,593 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 19:11:01,593 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 19:11:03,203 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"collaborators":0,"space":307200,"private_repos":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 19:11:03,281 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:11:03,406 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id, t.name, t.status FROM sso_login_third t WHERE t.name = ? 
2013-01-08 19:11:03,406 DEBUG [java.sql.PreparedStatement] - ==> Parameters: GitHubProfile(String)
2013-01-08 19:11:03,453 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:11:03,453 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.providerid, t.thirduserid, t.username, t.createdate from sso_user_third t where t.providerid = ? and t.thirduserid = ? 
2013-01-08 19:11:03,453 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(String), 973288(String)
2013-01-08 19:11:03,453 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@a4ab33
2013-01-08 19:11:03,453 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 19:11:03,453 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 19:11:03,453 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 19:11:03,453 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 19:11:03,453 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 19:11:03,453 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {}
2013-01-08 19:11:03,468 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-1-w9h2mHxU5ImmkVcgM037pZDsMecMVVFBF7He40gfeh2Q21pQSR-cas01.example.org] to registry.
2013-01-08 19:11:03,468 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-1-w9h2mHxU5ImmkVcgM037pZDsMecMVVFBF7He40gfeh2Q21pQSR-cas01.example.org]
2013-01-08 19:11:03,578 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Terminate web session bmtjnm302mqm1b788ac5x46xr in 2 seconds
2013-01-08 19:11:03,578 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Terminate web session bmtjnm302mqm1b788ac5x46xr in 2 seconds
2013-01-08 19:11:03,578 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 19:11:03,578 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 19:11:28,171 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:11:28,234 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT s.menuid, s.menuname, s.subsysid, s.`status`, s.linkurl, s.sort, s.systype, s.isadmin FROM sys_menu s WHERE s.levelflag = 3 AND s.subsysid = ? ORDER BY s.parentid, s.sort, s.createtime DESC 
2013-01-08 19:11:28,234 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 0(String)
2013-01-08 19:11:28,265 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:11:28,265 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:11:28,265 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:11:28,265 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 19:11:28,265 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:11:28,281 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:11:28,281 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:11:28,281 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:11:28,281 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-2-afxZZzZwHENgbkWDuTg0vH6vwETpPB
2013-01-08 19:11:28,281 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-2-afxZZzZwHENgbkWDuTg0vH6vwETpPB
2013-01-08 19:11:32,984 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:11:33,421 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:11:33,421 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:11:33,421 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 19:11:34,609 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@17f6aba
2013-01-08 19:11:34,609 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 40c78484c9e6a3b843fb
2013-01-08 19:11:34,609 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:40c78484c9e6a3b843fb,providerType:GitHubProvider}
2013-01-08 19:11:34,609 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@cd4f05
2013-01-08 19:11:34,609 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 19:11:34,609 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@17f6aba
2013-01-08 19:11:34,625 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 40c78484c9e6a3b843fb
2013-01-08 19:11:38,406 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 19:11:38,406 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1219 ms for : https://api.github.com/user
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"type":"User","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","login":"wad12302","public_gists":0,"created_at":"2011-08-11T07:33:45Z","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","total_private_repos":0,"followers":0,"following_url":"https://api.github.com/users/wad12302/following","private_gists":0,"gravatar_id":"612548c837ea401e1411ed19aee93670","owned_private_repos":0,"plan":{"space":307200,"collaborators":0,"private_repos":0,"name":"free"},"disk_usage":80,"subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","collaborators":0,"following":0,"html_url":"https://github.com/wad12302","events_url":"https://api.github.com/users/wad12302/events{/privacy}","repos_url":"https://api.github.com/users/wad12302/repos","updated_at":"2013-01-08T09:48:43Z","public_repos":2,"received_events_url":"https://api.github.com/users/wad12302/received_events","id":973288,"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}"}
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : owned_private_repos / value : 0 / class java.lang.Integer
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : total_private_repos / value : 0 / class java.lang.Integer
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : private_gists / value : 0 / class java.lang.Integer
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : followers / value : 0 / class java.lang.Integer
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : created_at / value : 2011-08-11T07:33:45Z / class org.scribe.up.profile.FormattedDate
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : plan / value : {"space":307200,"collaborators":0,"private_repos":0,"name":"free"} / class org.scribe.up.profile.github.GitHubPlan
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - add access_token : b946ec2f9f6cf0805b88db4c9a15330543571368 to profile
2013-01-08 19:11:39,625 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : access_token / value : b946ec2f9f6cf0805b88db4c9a15330543571368 / class java.lang.String
2013-01-08 19:11:44,062 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - userProfile : GitHubProfile{id:973288,attributes:{avatar_url=https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png, disk_usage=80, private_gists=0, gravatar_id=612548c837ea401e1411ed19aee93670, public_gists=0, owned_private_repos=0, type=User, url=https://api.github.com/users/wad12302, html_url=https://github.com/wad12302, total_private_repos=0, followers=0, following=0, collaborators=0, plan={"space":307200,"collaborators":0,"private_repos":0,"name":"free"}, public_repos=2, created_at=2011-08-11T07:33:45Z, login=wad12302, access_token=b946ec2f9f6cf0805b88db4c9a15330543571368}}
2013-01-08 19:11:45,781 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.jasig.cas.support.oauth.authentication.handler.support.KanKan21OAuthAuthenticationHandler successfully authenticated org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@cd4f05
2013-01-08 19:11:45,781 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 19:11:45,781 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - principalId : GitHubProfile#973288
2013-01-08 19:11:45,781 DEBUG [org.jasig.cas.support.oauth.authentication.principal.OAuthCredentialsToPrincipalResolver] - Creating SimplePrincipal for [GitHubProfile#973288]
2013-01-08 19:11:45,781 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal GitHubProfile#973288
2013-01-08 19:11:45,781 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: GitHubProfile#973288
2013-01-08 19:11:45,781 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for GitHubProfile#973288: {}
2013-01-08 19:11:45,796 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-2-VoqugztOmua00syvbf7rDicHiLGbuKsjXmPLWCXqhz70ZPbIV9-cas01.example.org] to registry.
2013-01-08 19:11:45,796 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-2-VoqugztOmua00syvbf7rDicHiLGbuKsjXmPLWCXqhz70ZPbIV9-cas01.example.org]
2013-01-08 19:11:45,796 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-2-VoqugztOmua00syvbf7rDicHiLGbuKsjXmPLWCXqhz70ZPbIV9-cas01.example.org]
2013-01-08 19:11:45,796 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-2-VoqugztOmua00syvbf7rDicHiLGbuKsjXmPLWCXqhz70ZPbIV9-cas01.example.org] found in registry.
2013-01-08 19:11:45,796 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-1-AqVjDwg5RzhcxDo9HX5e-cas01.example.org] to registry.
2013-01-08 19:11:45,796 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-1-AqVjDwg5RzhcxDo9HX5e-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [GitHubProfile#973288]
2013-01-08 19:11:45,796 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-2-VoqugztOmua00syvbf7rDicHiLGbuKsjXmPLWCXqhz70ZPbIV9-cas01.example.org]
2013-01-08 19:11:45,796 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-2-VoqugztOmua00syvbf7rDicHiLGbuKsjXmPLWCXqhz70ZPbIV9-cas01.example.org] found in registry.
2013-01-08 19:11:45,812 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 19:11:45,812 DEBUG [org.jasig.cas.web.flow.TerminateWebSessionListener] - Error getting service from flow state.
java.lang.IllegalStateException: No active FlowSession to access; this FlowExecution has ended
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:191)
	at org.springframework.webflow.engine.impl.RequestControlContextImpl.getFlowScope(RequestControlContextImpl.java:134)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody8(WebUtils.java:87)
	at org.jasig.cas.web.support.WebUtils.getService_aroundBody9$advice(WebUtils.java:57)
	at org.jasig.cas.web.support.WebUtils.getService(WebUtils.java:1)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody0(TerminateWebSessionListener.java:62)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted_aroundBody1$advice(TerminateWebSessionListener.java:57)
	at org.jasig.cas.web.flow.TerminateWebSessionListener.sessionStarted(TerminateWebSessionListener.java:1)
	at org.springframework.webflow.engine.impl.FlowExecutionListeners.fireSessionStarted(FlowExecutionListeners.java:126)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:367)
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.start(FlowExecutionImpl.java:225)
	at org.springframework.webflow.executor.FlowExecutorImpl.launchExecution(FlowExecutorImpl.java:140)
	at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:193)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
2013-01-08 19:11:51,718 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 19:11:51,718 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 19:11:51,718 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 19:11:55,750 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-1-AqVjDwg5RzhcxDo9HX5e-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 19:11:55,750 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 19:11:56,546 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:12:06,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 19:12:06,062 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 19:12:06,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 19:12:06,140 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-1-AqVjDwg5RzhcxDo9HX5e-cas01.example.org]
2013-01-08 19:12:06,140 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-1-AqVjDwg5RzhcxDo9HX5e-cas01.example.org] found in registry.
2013-01-08 19:12:06,140 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - ServiceTicket [ST-1-AqVjDwg5RzhcxDo9HX5e-cas01.example.org] has expired.
2013-01-08 19:12:06,140 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-1-AqVjDwg5RzhcxDo9HX5e-cas01.example.org] from registry
2013-01-08 19:12:06,140 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-1-AqVjDwg5RzhcxDo9HX5e-cas01.example.org]
2013-01-08 19:12:09,171 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 


<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationFailure code='INVALID_TICKET'>
		???��???��?��?????????????? &#039;ST-1-AqVjDwg5RzhcxDo9HX5e-cas01.example.org&#039;??��???
	</cas:authenticationFailure>
</cas:serviceResponse>

2013-01-08 19:12:31,968 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:12:31,968 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:13:27,437 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:13:27,437 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:13:27,437 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 19:13:27,437 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:13:27,437 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:13:27,437 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:13:27,437 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:13:27,437 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-3-dXxboJQqXOHKtosIfPxgzf6HfwVO5h
2013-01-08 19:13:27,437 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-3-dXxboJQqXOHKtosIfPxgzf6HfwVO5h
2013-01-08 19:13:27,765 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:13:27,765 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:13:31,875 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:13:31,875 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.id_user, t.username, t.password, t.nikename, t.id_site, t.logintype, t.validtype, t.createdate, t.encrypttype, t.email from sso_user t where t.username = ? 
2013-01-08 19:13:31,875 DEBUG [java.sql.PreparedStatement] - ==> Parameters: admin(String)
2013-01-08 19:13:31,906 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.gonetbar.ssa.cas.jdbc.AclAuthenticationHandler successfully authenticated [username: admin]
2013-01-08 19:13:31,906 DEBUG [org.jasig.cas.authentication.principal.UsernamePasswordCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 19:13:31,906 DEBUG [org.jasig.cas.authentication.principal.UsernamePasswordCredentialsToPrincipalResolver] - Creating SimplePrincipal for [admin]
2013-01-08 19:13:31,906 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal admin
2013-01-08 19:13:31,906 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: admin
2013-01-08 19:13:31,906 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for admin: {uid=uid, eduPersonAffiliation=eduPersonAffiliation, groupMembership=groupMembership}
2013-01-08 19:13:31,906 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-3-RaKwy7eAwvwFo6A2ofGkwAgYwYfM3z3rsFFQrkKsCrECmLK594-cas01.example.org] to registry.
2013-01-08 19:13:31,906 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Removed cookie with name [CASPRIVACY]
2013-01-08 19:13:31,906 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-3-RaKwy7eAwvwFo6A2ofGkwAgYwYfM3z3rsFFQrkKsCrECmLK594-cas01.example.org]
2013-01-08 19:13:49,281 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:13:49,281 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT s.menuid, s.menuname, s.subsysid, s.`status`, s.linkurl, s.sort, s.systype, s.isadmin FROM sys_menu s WHERE s.levelflag = 3 AND s.subsysid = ? ORDER BY s.parentid, s.sort, s.createtime DESC 
2013-01-08 19:13:49,281 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 0(String)
2013-01-08 19:13:49,296 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:13:49,296 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:13:49,296 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:13:49,296 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 19:13:49,296 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:13:49,296 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:13:49,296 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:13:49,296 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:13:49,296 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-4-JzNQxSaLiXVbTvSd0QUFCLRXgWbwby
2013-01-08 19:13:49,296 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-4-JzNQxSaLiXVbTvSd0QUFCLRXgWbwby
2013-01-08 19:13:49,312 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:13:58,484 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.gonetbar.ssa.cas.jdbc.AclAuthenticationHandler successfully authenticated [username: admin]
2013-01-08 19:13:58,484 DEBUG [org.jasig.cas.authentication.principal.UsernamePasswordCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 19:13:58,484 DEBUG [org.jasig.cas.authentication.principal.UsernamePasswordCredentialsToPrincipalResolver] - Creating SimplePrincipal for [admin]
2013-01-08 19:13:58,484 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal admin
2013-01-08 19:13:58,484 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: admin
2013-01-08 19:13:58,484 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for admin: {uid=uid, eduPersonAffiliation=eduPersonAffiliation, groupMembership=groupMembership}
2013-01-08 19:13:58,500 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-4-ZAzdOucES1dW3dxHWFI0vYqfoEKoP1VEVGoojFKm9TXCFbGxlI-cas01.example.org] to registry.
2013-01-08 19:13:58,500 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Removed cookie with name [CASPRIVACY]
2013-01-08 19:13:58,500 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-4-ZAzdOucES1dW3dxHWFI0vYqfoEKoP1VEVGoojFKm9TXCFbGxlI-cas01.example.org]
2013-01-08 19:13:58,500 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-4-ZAzdOucES1dW3dxHWFI0vYqfoEKoP1VEVGoojFKm9TXCFbGxlI-cas01.example.org]
2013-01-08 19:13:58,500 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-4-ZAzdOucES1dW3dxHWFI0vYqfoEKoP1VEVGoojFKm9TXCFbGxlI-cas01.example.org] found in registry.
2013-01-08 19:13:58,500 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-2-qqQuHOR3K1njcyGZa09Y-cas01.example.org] to registry.
2013-01-08 19:13:58,500 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-2-qqQuHOR3K1njcyGZa09Y-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [admin]
2013-01-08 19:13:58,500 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-4-ZAzdOucES1dW3dxHWFI0vYqfoEKoP1VEVGoojFKm9TXCFbGxlI-cas01.example.org]
2013-01-08 19:13:58,500 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-4-ZAzdOucES1dW3dxHWFI0vYqfoEKoP1VEVGoojFKm9TXCFbGxlI-cas01.example.org] found in registry.
2013-01-08 19:13:59,703 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 19:13:59,718 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 19:13:59,718 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 19:14:01,171 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-2-qqQuHOR3K1njcyGZa09Y-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 19:14:01,171 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 19:14:02,078 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:14:06,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 19:14:06,062 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 19:14:06,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 19:14:10,375 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-2-qqQuHOR3K1njcyGZa09Y-cas01.example.org]
2013-01-08 19:14:10,375 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-2-qqQuHOR3K1njcyGZa09Y-cas01.example.org] found in registry.
2013-01-08 19:14:10,375 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - ServiceTicket [ST-2-qqQuHOR3K1njcyGZa09Y-cas01.example.org] has expired.
2013-01-08 19:14:10,375 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-2-qqQuHOR3K1njcyGZa09Y-cas01.example.org] from registry
2013-01-08 19:14:10,375 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-2-qqQuHOR3K1njcyGZa09Y-cas01.example.org]
2013-01-08 19:14:11,671 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 


<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationFailure code='INVALID_TICKET'>
		???��???��?��?????????????? &#039;ST-2-qqQuHOR3K1njcyGZa09Y-cas01.example.org&#039;??��???
	</cas:authenticationFailure>
</cas:serviceResponse>

2013-01-08 19:14:16,187 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:14:16,187 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:16:06,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Reloading registered services.
2013-01-08 19:16:06,062 DEBUG [org.jasig.cas.services.DefaultServicesManagerImpl] - Adding registered service ^(https?|imaps?)://.*
2013-01-08 19:16:06,062 INFO [org.jasig.cas.services.DefaultServicesManagerImpl] - Loaded 1 services.
2013-01-08 19:17:03,250 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:17:03,250 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT s.menuid, s.menuname, s.subsysid, s.`status`, s.linkurl, s.sort, s.systype, s.isadmin FROM sys_menu s WHERE s.levelflag = 3 AND s.subsysid = ? ORDER BY s.parentid, s.sort, s.createtime DESC 
2013-01-08 19:17:03,250 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 0(String)
2013-01-08 19:17:03,265 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:17:03,265 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:17:03,265 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:17:03,265 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 19:17:03,265 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:17:03,265 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:17:03,265 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:17:03,265 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:17:03,265 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-5-FN54lezFIobFot657CaNMewXY6Rc5f
2013-01-08 19:17:03,265 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-5-FN54lezFIobFot657CaNMewXY6Rc5f
2013-01-08 19:17:03,265 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:17:09,234 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:17:09,234 DEBUG [java.sql.PreparedStatement] - ==>  Executing: select t.id_user, t.username, t.password, t.nikename, t.id_site, t.logintype, t.validtype, t.createdate, t.encrypttype, t.email from sso_user t where t.username = ? 
2013-01-08 19:17:09,234 DEBUG [java.sql.PreparedStatement] - ==> Parameters: admin(String)
2013-01-08 19:17:09,250 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - org.gonetbar.ssa.cas.jdbc.AclAuthenticationHandler successfully authenticated [username: admin]
2013-01-08 19:17:09,250 DEBUG [org.jasig.cas.authentication.principal.UsernamePasswordCredentialsToPrincipalResolver] - Attempting to resolve a principal...
2013-01-08 19:17:09,250 DEBUG [org.jasig.cas.authentication.principal.UsernamePasswordCredentialsToPrincipalResolver] - Creating SimplePrincipal for [admin]
2013-01-08 19:17:09,250 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Resolved principal admin
2013-01-08 19:17:09,250 INFO [org.jasig.cas.authentication.AuthenticationManagerImpl] - Principal found: admin
2013-01-08 19:17:09,250 DEBUG [org.jasig.cas.authentication.AuthenticationManagerImpl] - Attribute map for admin: {uid=uid, eduPersonAffiliation=eduPersonAffiliation, groupMembership=groupMembership}
2013-01-08 19:17:09,250 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [TGT-5-W3BfXjVbiW40SpXa6a5G15N9VrxZ5TNCNOwq0BtcEdu6FAKAMg-cas01.example.org] to registry.
2013-01-08 19:17:09,250 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Removed cookie with name [CASPRIVACY]
2013-01-08 19:17:09,250 DEBUG [org.jasig.cas.web.support.CookieRetrievingCookieGenerator] - Added cookie with name [CASTGC] and value [TGT-5-W3BfXjVbiW40SpXa6a5G15N9VrxZ5TNCNOwq0BtcEdu6FAKAMg-cas01.example.org]
2013-01-08 19:17:09,265 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-5-W3BfXjVbiW40SpXa6a5G15N9VrxZ5TNCNOwq0BtcEdu6FAKAMg-cas01.example.org]
2013-01-08 19:17:09,265 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-5-W3BfXjVbiW40SpXa6a5G15N9VrxZ5TNCNOwq0BtcEdu6FAKAMg-cas01.example.org] found in registry.
2013-01-08 19:17:09,265 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Added ticket [ST-3-omT3bricncOmdaMZX7Vq-cas01.example.org] to registry.
2013-01-08 19:17:09,265 INFO [org.jasig.cas.CentralAuthenticationServiceImpl] - Granted service ticket [ST-3-omT3bricncOmdaMZX7Vq-cas01.example.org] for service [http://localhost:8080/cas/services/j_acegi_cas_security_check] for user [admin]
2013-01-08 19:17:09,265 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [TGT-5-W3BfXjVbiW40SpXa6a5G15N9VrxZ5TNCNOwq0BtcEdu6FAKAMg-cas01.example.org]
2013-01-08 19:17:09,265 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [TGT-5-W3BfXjVbiW40SpXa6a5G15N9VrxZ5TNCNOwq0BtcEdu6FAKAMg-cas01.example.org] found in registry.
2013-01-08 19:17:09,281 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Placing URL parameters in map.
2013-01-08 19:17:09,281 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Calling template URL attribute map.
2013-01-08 19:17:09,281 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Loading custom parameters from configuration.
2013-01-08 19:17:09,281 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Constructing validation url: http://localhost:8080/cas/serviceValidate?ticket=ST-3-omT3bricncOmdaMZX7Vq-cas01.example.org&service=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Fservices%2Fj_acegi_cas_security_check
2013-01-08 19:17:09,281 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Retrieving response from server.
2013-01-08 19:17:09,281 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:17:09,281 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-3-omT3bricncOmdaMZX7Vq-cas01.example.org]
2013-01-08 19:17:09,281 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Ticket [ST-3-omT3bricncOmdaMZX7Vq-cas01.example.org] found in registry.
2013-01-08 19:17:09,281 DEBUG [org.jasig.cas.CentralAuthenticationServiceImpl] - Principal id to return for service [HTTP and IMAP] is [admin]. The default principal id is [admin].
2013-01-08 19:17:09,281 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Removing ticket [ST-3-omT3bricncOmdaMZX7Vq-cas01.example.org] from registry
2013-01-08 19:17:09,281 DEBUG [org.jasig.cas.ticket.registry.DefaultTicketRegistry] - Attempting to retrieve ticket [ST-3-omT3bricncOmdaMZX7Vq-cas01.example.org]
2013-01-08 19:17:09,296 DEBUG [org.jasig.cas.web.ServiceValidateController] - Successfully validated service ticket: ST-3-omT3bricncOmdaMZX7Vq-cas01.example.org
2013-01-08 19:17:09,515 DEBUG [org.jasig.cas.client.validation.Cas20ServiceTicketValidator] - Server response: 



<cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'>
	<cas:authenticationSuccess>
		<cas:user>admin</cas:user>


	</cas:authenticationSuccess>
</cas:serviceResponse>

2013-01-08 19:17:09,562 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:17:09,562 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT ur.id_user, ur.id_role, r.role_key, r.role_status FROM sso_sys_user_role AS ur, sso_sys_role AS r WHERE ur.id_role = r.id_role AND r.role_status AND ur.id_user = ? ORDER BY ur.orderno ASC, r.role_sort ASC 
2013-01-08 19:17:09,562 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 1(Long)
2013-01-08 19:17:10,250 DEBUG [java.sql.Connection] - ooo Connection Opened
2013-01-08 19:17:10,250 DEBUG [java.sql.PreparedStatement] - ==>  Executing: SELECT t.id_acl, t.principal_type, t.principal_id, t.id_role, t.acl_state, t.valid_type, r.role_key, r.role_status, r.role_sort FROM sso_sys_acl_menurole t, sso_sys_role r WHERE t.id_role = r.id_role AND t.principal_id = ? 
2013-01-08 19:17:10,250 DEBUG [java.sql.PreparedStatement] - ==> Parameters: 32(String)
2013-01-08 19:17:11,140 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:17:11,140 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:17:43,718 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:17:43,718 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:17:43,718 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 19:17:43,718 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:17:43,718 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:17:43,718 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:17:43,718 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:17:43,718 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-6-egO4OfTftEFaFRfiepgq4jZESggQgb
2013-01-08 19:17:43,718 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-6-egO4OfTftEFaFRfiepgq4jZESggQgb
2013-01-08 19:17:49,406 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor generated service for: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:17:49,406 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:17:49,406 DEBUG [org.jasig.cas.web.flow.InitialFlowSetupAction] - Placing service in FlowScope: http://localhost:8080/cas/services/j_acegi_cas_security_check
2013-01-08 19:17:49,406 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : null
2013-01-08 19:17:49,406 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:17:49,406 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - WeiboProviderUrl -> https://api.weibo.com/oauth2/authorize?client_id=xxxxx&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DWeiboProvider&response_type=code
2013-01-08 19:17:49,406 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:17:49,406 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - GitHubProviderUrl -> https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:17:49,406 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-7-g4hzwCA2mSLHOSiRCV3k9O5NtrwLWQ
2013-01-08 19:17:49,406 DEBUG [org.jasig.cas.web.flow.GenerateLoginTicketAction] - Generated login ticket LT-7-g4hzwCA2mSLHOSiRCV3k9O5NtrwLWQ
2013-01-08 19:17:50,640 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - authorizationUrl : https://github.com/login/oauth/authorize?client_id=bb7977b9e7f892c115c3&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fcas%2Flogin%3Foauth_provider%3DGitHubProvider&scope=user
2013-01-08 19:17:51,531 DEBUG [org.jasig.cas.web.support.CasArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:17:51,531 DEBUG [org.jasig.cas.web.support.SamlArgumentExtractor] - Extractor did not generate service.
2013-01-08 19:17:51,531 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - providerType : GitHubProvider
2013-01-08 19:17:51,531 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - provider : org.scribe.up.provider.impl.GitHubProvider@17f6aba
2013-01-08 19:17:51,531 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 63fd0fded5202898de89
2013-01-08 19:17:51,531 DEBUG [org.jasig.cas.support.oauth.web.flow.OAuthAction] - credential : OAuthCredential{requestToken:null,token:null,verifier:63fd0fded5202898de89,providerType:GitHubProvider}
2013-01-08 19:17:51,531 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - credential : org.jasig.cas.support.oauth.authentication.principal.OAuthCredentials@a6168
2013-01-08 19:17:51,531 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - providerType : GitHubProvider
2013-01-08 19:17:51,531 DEBUG [org.jasig.cas.support.oauth.authentication.handler.support.OAuthAuthenticationHandler] - provider : org.scribe.up.provider.impl.GitHubProvider@17f6aba
2013-01-08 19:17:51,531 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - verifier : 63fd0fded5202898de89
2013-01-08 19:17:52,406 DEBUG [org.scribe.up.provider.BaseOAuth20Provider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ]
2013-01-08 19:17:52,406 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - accessToken : Token[b946ec2f9f6cf0805b88db4c9a15330543571368 , ] / dataUrl : https://api.github.com/user
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - Request took : 1156 ms for : https://api.github.com/user
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.provider.BaseOAuthProvider] - response code : 200 / response body : {"total_private_repos":0,"type":"User","login":"wad12302","created_at":"2011-08-11T07:33:45Z","events_url":"https://api.github.com/users/wad12302/events{/privacy}","organizations_url":"https://api.github.com/users/wad12302/orgs","gists_url":"https://api.github.com/users/wad12302/gists{/gist_id}","followers_url":"https://api.github.com/users/wad12302/followers","owned_private_repos":0,"followers":0,"following_url":"https://api.github.com/users/wad12302/following","avatar_url":"https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","public_repos":2,"gravatar_id":"612548c837ea401e1411ed19aee93670","plan":{"private_repos":0,"space":307200,"collaborators":0,"name":"free"},"starred_url":"https://api.github.com/users/wad12302/starred{/owner}{/repo}","disk_usage":80,"repos_url":"https://api.github.com/users/wad12302/repos","subscriptions_url":"https://api.github.com/users/wad12302/subscriptions","url":"https://api.github.com/users/wad12302","collaborators":0,"public_gists":0,"following":0,"html_url":"https://github.com/wad12302","received_events_url":"https://api.github.com/users/wad12302/received_events","updated_at":"2013-01-08T09:48:43Z","private_gists":0,"id":973288}
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.profile.UserProfile] - identifier : 973288
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : url / value : https://api.github.com/users/wad12302 / class java.lang.String
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : login / value : wad12302 / class java.lang.String
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : type / value : User / class java.lang.String
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : gravatar_id / value : 612548c837ea401e1411ed19aee93670 / class java.lang.String
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : avatar_url / value : https://secure.gravatar.com/avatar/612548c837ea401e1411ed19aee93670?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png / class java.lang.String
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : html_url / value : https://github.com/wad12302 / class java.lang.String
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : following / value : 0 / class java.lang.Integer
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_repos / value : 2 / class java.lang.Integer
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : public_gists / value : 0 / class java.lang.Integer
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : disk_usage / value : 80 / class java.lang.Integer
2013-01-08 19:17:53,562 DEBUG [org.scribe.up.profile.UserProfile] - converted to => key : collaborators / value : 0 / class java.lang.Integer
