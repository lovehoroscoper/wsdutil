未解决  异常信息拦截处理


解决版本覆盖源文件乱码显示
我所做的改动
WEB-INF\my-spring
WEB-INF\spring-configuration\propertyFileConfigurer.xml
WEB-INF\spring-configuration\securityContext.xml
WEB-INF\cas.properties
WEB-INF\deployerConfigContext.xml


http://huaban.com/signup/

authenticationManager
使用默认的

public class ProviderManager extends AbstractAuthenticationManager

CasAuthenticationProvider

securityMetadataSource

DefaultFilterInvocationSecurityMetadataSource


用户系统启动时候验证是否包含了不支持的角色格式
<sec:intercept-url pattern="/**" access="${cas.securityContext.serviceProperties.adminRoles},WEISD_TEST" />
 	Unsupported configuration attributes: [WEISD_TEST]
	@Override
	public Collection<ConfigAttribute> getAllConfigAttributes() {
		// TODO Auto-generated method stub
		return null;
	}

AbstractSecurityInterceptor

Caused by: java.lang.IllegalArgumentException: Unsupported configuration attributes: [WEISD_TEST]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.afterPropertiesSet(AbstractSecurityInterceptor.java:154)
	
	
	
对于方法某些URL权限没有的 会抛出AccessDeniedException
但是无法提示用户没有相关权限
可以重写
AccessDeniedHandlerImpl

使用在ExceptionTranslationFilter
可以自己定义各种异常然后针对处理

2012-12-27 13:21:45,296 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - <Loading properties file from ServletContext resource [/WEB-INF/my-spring/jdbc.properties]>
2012-12-27 13:21:45,296 INFO [org.gonetbar.ssa.des.PropertyEncodeConfigurer] - <Loading properties file from ServletContext resource [/WEB-INF/cas.properties]>

重复加载了